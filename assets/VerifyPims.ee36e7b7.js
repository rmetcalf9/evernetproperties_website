import{_ as h,d as _,bc as y,o as r,c as v,w as b,N as m,e as o,K as n,t as i,a,af as l,f as p,ar as c}from"./index.e93b3b1c.js";import{Q as g}from"./QPage.e3ca7ed4.js";import{u as k}from"./backend_connection.733ae8dd.js";import"./axios.6e1fcf85.js";const P=_({name:"VerifyPimsPage",components:{},setup(){const e=k(),t=y();return{backend_connection_store:e,route:t}},data(){return{show_verify_block:!1,info_response:{},complete:!1,complete_message:""}},computed:{isAdmin(){return this.backend_connection_store.hasRole({role:"admin"})}},watch:{isAdmin:function(e){this.refresh()}},methods:{click_get_started(){this.$router.push("/tools")},verify(e){const t=this,s={ok:function(u){t.complete=!0,t.complete_message="OK"},error:function(u){m.create({color:"bg-grey-2",message:"Failed to record result",timeout:2e3})}},d={verify_code:this.route.params.verifycode,pims_number:this.info_response.user_profile.pims.number,verified:e};this.backend_connection_store.call_api({apiprefix:"privateAdminAPIPrefix",url:"/pimsverify",method:"POST",data:d,callback:s})},refresh(){if(this.isAdmin&&this.route.params.verifycode!=="aaaaa"){const e=this,t={ok:function(s){e.show_verify_block=!0,e.info_response=s.data},error:function(s){m.create({color:"bg-grey-2",message:"Failed to retrieve details",timeout:2e3})}};this.backend_connection_store.call_api({apiprefix:"privateAdminAPIPrefix",url:"/pimsverify/"+this.route.params.verifycode+"/"+this.route.params.pimsnumber,method:"GET",data:void 0,callback:t})}}},mounted(){this.refresh()}}),w={rows:"",style:{"max-width":"700px"}},A={key:0,class:"verify_block"},B=o("h1",null,"Verify PIMS member",-1),V=o("div",null,[p("Does this match? (search "),o("a",{href:"https://www.thepims.co.uk/members/",target:"_new"},"https://www.thepims.co.uk/members/"),p(")")],-1),x={key:0,class:"buttons-at-bottom"},N={key:1},S={class:"ppb_ad"},T=o("h2",null,"Introducing Early Access to the Property Pipeline Builder!",-1),C=o("p",null,"We're excited to announce the launch of Property Pipeline Builder\u2014an innovative application designed to streamline and optimize the property evaluation process for deal sourcers. Whether you're evaluating a handful or dozens of properties, this tool is essential for organizing your pipeline and compiling due diligence information effortlessly.",-1),I=o("h3",null,"Why Property Pipeline Builder?",-1),$=o("p",null,"If you're a property professional who evaluates multiple properties regularly, Property Pipeline Builder is tailored to help you manage your workflow more efficiently. Say goodbye to scattered spreadsheets and hello to a centralized, user-friendly platform.",-1),E=o("h3",null,"Exclusive Early Access for Samuel Leeds Academy Members",-1),z=o("p",null,"We\u2019re offering an exclusive early access opportunity to members of the Samuel Leeds Academy. Be among the first to experience the power of Property Pipeline Builder and take your property sourcing to the next level.",-1),W={align:"center"};function D(e,t,s,d,u,F){return r(),v(g,{class:"flex flex-center"},{default:b(()=>[o("div",w,[e.show_verify_block?(r(),n("div",A,[B,o("div",null,"Name: "+i(e.info_response.user_profile.pims.first_name)+" "+i(e.info_response.user_profile.pims.last_name),1),o("div",null,"PIMS Number: "+i(e.info_response.user_profile.pims.number),1),V,e.complete?c("",!0):(r(),n("div",x,[a(l,{color:"positive",label:"Yes - this checks out",onClick:t[0]||(t[0]=f=>e.verify(!0))}),p(" \xA0 "),a(l,{color:"negative",label:"No - Verify FAILS",onClick:t[1]||(t[1]=f=>e.verify(!1))})])),e.complete?(r(),n("div",N,[o("h4",null,"Done "+i(e.complete_message),1)])):c("",!0)])):c("",!0),o("div",S,[T,C,I,$,E,z,o("div",W,[a(l,{color:"positive",label:"Visit the tools section to get started!",onClick:e.click_get_started},null,8,["onClick"])])])])]),_:1})}var O=h(P,[["render",D]]);export{O as default};
