import{aE as Tt,a6 as ue,C as St,aF as Rt,Y as he,aG as Ce,a4 as Qe,aH as $e,aI as ve,X as Me,$ as Le,ak as Ft,j as D,k as d,aJ as Bt,aK as Ve,n as Lt,aj as jt,aL as qt,u as je,q as I,aM as It,aN as zt,g as tt,m as at,d as X,_ as K,o as v,K as b,e as o,f as L,a as h,t as c,af as ge,L as pe,r as me,c as ee,w as p,ag as $,M as qe,a8 as re,ar as w,a9 as se,au as ae,ax as Be,aO as Et,N as Ge,a7 as Pt}from"./index.2d092be1.js";import{u as W}from"./utils.b0f5af30.js";import{Q as Dt,b as Xe}from"./QTable.c5302c18.js";import{Q as Nt}from"./QExpansionItem.3747d536.js";import{d as Ut}from"./position-engine.7246b193.js";import{b as P}from"./QSelect.e30d0ee3.js";import{F as At}from"./FeatureTable.78c5aa35.js";const Ie={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ot=Object.keys(Ie);Ie.all=!0;function Ke(e){const a={};for(const l of Ot)e[l]===!0&&(a[l]=!0);return Object.keys(a).length===0?Ie:(a.horizontal===!0?a.left=a.right=!0:a.left===!0&&a.right===!0&&(a.horizontal=!0),a.vertical===!0?a.up=a.down=!0:a.up===!0&&a.down===!0&&(a.vertical=!0),a.horizontal===!0&&a.vertical===!0&&(a.all=!0),a)}const Wt=["INPUT","TEXTAREA"];function Ye(e,a){return a.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof a.handler=="function"&&Wt.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(a.uid)===-1)}function Te(e,a,l){const s=ve(e);let t,u=s.left-a.event.x,r=s.top-a.event.y,m=Math.abs(u),n=Math.abs(r);const f=a.direction;f.horizontal===!0&&f.vertical!==!0?t=u<0?"left":"right":f.horizontal!==!0&&f.vertical===!0?t=r<0?"up":"down":f.up===!0&&r<0?(t="up",m>n&&(f.left===!0&&u<0?t="left":f.right===!0&&u>0&&(t="right"))):f.down===!0&&r>0?(t="down",m>n&&(f.left===!0&&u<0?t="left":f.right===!0&&u>0&&(t="right"))):f.left===!0&&u<0?(t="left",m<n&&(f.up===!0&&r<0?t="up":f.down===!0&&r>0&&(t="down"))):f.right===!0&&u>0&&(t="right",m<n&&(f.up===!0&&r<0?t="up":f.down===!0&&r>0&&(t="down")));let M=!1;if(t===void 0&&l===!1){if(a.event.isFirst===!0||a.event.lastDir===void 0)return{};t=a.event.lastDir,M=!0,t==="left"||t==="right"?(s.left-=u,m=0,u=0):(s.top-=r,n=0,r=0)}return{synthetic:M,payload:{evt:e,touch:a.event.mouse!==!0,mouse:a.event.mouse===!0,position:s,direction:t,isFirst:a.event.isFirst,isFinal:l===!0,duration:Date.now()-a.event.time,distance:{x:m,y:n},offset:{x:u,y:r},delta:{x:s.left-a.event.lastX,y:s.top-a.event.lastY}}}}let Qt=0;var Gt=Tt({name:"touch-pan",beforeMount(e,{value:a,modifiers:l}){if(l.mouse!==!0&&ue.has.touch!==!0)return;function s(u,r){l.mouse===!0&&r===!0?Le(u):(l.stop===!0&&$e(u),l.prevent===!0&&Qe(u))}const t={uid:"qvtp_"+Qt++,handler:a,modifiers:l,direction:Ke(l),noop:St,mouseStart(u){Ye(u,t)&&Rt(u)&&(he(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(u,!0))},touchStart(u){if(Ye(u,t)){const r=u.target;he(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),t.start(u)}},start(u,r){if(ue.is.firefox===!0&&Ce(e,!0),t.lastEvt=u,r===!0||l.stop===!0){if(t.direction.all!==!0&&(r!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const f=u.type.indexOf("mouse")>-1?new MouseEvent(u.type,u):new TouchEvent(u.type,u);u.defaultPrevented===!0&&Qe(f),u.cancelBubble===!0&&$e(f),Object.assign(f,{qKeyEvent:u.qKeyEvent,qClickOutside:u.qClickOutside,qAnchorHandled:u.qAnchorHandled,qClonedBy:u.qClonedBy===void 0?[t.uid]:u.qClonedBy.concat(t.uid)}),t.initialEvent={target:u.target,event:f}}$e(u)}const{left:m,top:n}=ve(u);t.event={x:m,y:n,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:m,lastY:n}},move(u){if(t.event===void 0)return;const r=ve(u),m=r.left-t.event.x,n=r.top-t.event.y;if(m===0&&n===0)return;t.lastEvt=u;const f=t.event.mouse===!0,M=()=>{s(u,f);let F;l.preserveCursor!==!0&&l.preservecursor!==!0&&(F=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),f===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ut(),t.styleCleanup=R=>{if(t.styleCleanup=void 0,F!==void 0&&(document.documentElement.style.cursor=F),document.body.classList.remove("non-selectable"),f===!0){const Y=()=>{document.body.classList.remove("no-pointer-events--children")};R!==void 0?setTimeout(()=>{Y(),R()},50):Y()}else R!==void 0&&R()}};if(t.event.detected===!0){t.event.isFirst!==!0&&s(u,t.event.mouse);const{payload:F,synthetic:R}=Te(u,t,!1);F!==void 0&&(t.handler(F)===!1?t.end(u):(t.styleCleanup===void 0&&t.event.isFirst===!0&&M(),t.event.lastX=F.position.left,t.event.lastY=F.position.top,t.event.lastDir=R===!0?void 0:F.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||f===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){M(),t.event.detected=!0,t.move(u);return}const j=Math.abs(m),V=Math.abs(n);j!==V&&(t.direction.horizontal===!0&&j>V||t.direction.vertical===!0&&j<V||t.direction.up===!0&&j<V&&n<0||t.direction.down===!0&&j<V&&n>0||t.direction.left===!0&&j>V&&m<0||t.direction.right===!0&&j>V&&m>0?(t.event.detected=!0,t.move(u)):t.end(u,!0))},end(u,r){if(t.event!==void 0){if(Me(t,"temp"),ue.is.firefox===!0&&Ce(e,!1),r===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Te(u===void 0?t.lastEvt:u,t).payload);const{payload:m}=Te(u===void 0?t.lastEvt:u,t,!0),n=()=>{t.handler(m)};t.styleCleanup!==void 0?t.styleCleanup(n):n()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,l.mouse===!0){const u=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";he(t,"main",[[e,"mousedown","mouseStart",`passive${u}`]])}ue.has.touch===!0&&he(t,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const l=e.__qtouchpan;l!==void 0&&(a.oldValue!==a.value&&(typeof value!="function"&&l.end(),l.handler=a.value),l.direction=Ke(a.modifiers))},beforeUnmount(e){const a=e.__qtouchpan;a!==void 0&&(a.event!==void 0&&a.end(),Me(a,"main"),Me(a,"temp"),ue.is.firefox===!0&&Ce(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchpan)}});const He="q-slider__marker-labels",Xt=e=>({value:e}),Kt=({marker:e})=>I("div",{key:e.value,style:e.style,class:e.classes},e.label),ze=[34,37,40,33,39,38],rt={...jt,...qt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},st=["pan","update:modelValue","change"];function nt({updateValue:e,updatePosition:a,getDragging:l,formAttrs:s}){const{props:t,emit:u,slots:r,proxy:{$q:m}}=je(),n=Ft(t,m),f=zt(s),M=D(!1),j=D(!1),V=D(!1),F=D(!1),R=d(()=>t.vertical===!0?"--v":"--h"),Y=d(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),N=d(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(m.lang.rtl===!0)),E=d(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),A=d(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),C=d(()=>t.disable!==!0&&t.readonly!==!0&&E.value<A.value),U=d(()=>(String(t.step).trim().split(".")[1]||"").length),Q=d(()=>t.step===0?1:t.step),be=d(()=>C.value===!0?t.tabindex||0:-1),ne=d(()=>t.max-t.min),oe=d(()=>A.value-E.value),ie=d(()=>_e(E.value)),le=d(()=>_e(A.value)),te=d(()=>t.vertical===!0?N.value===!0?"bottom":"top":N.value===!0?"right":"left"),x=d(()=>t.vertical===!0?"height":"width"),_=d(()=>t.vertical===!0?"width":"height"),B=d(()=>t.vertical===!0?"vertical":"horizontal"),T=d(()=>{const i={role:"slider","aria-valuemin":E.value,"aria-valuemax":A.value,"aria-orientation":B.value,"data-step":t.step};return t.disable===!0?i["aria-disabled"]="true":t.readonly===!0&&(i["aria-readonly"]="true"),i}),z=d(()=>`q-slider q-slider${R.value} q-slider--${M.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(C.value===!0?" q-slider--editable":""))+(V.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(n.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+R.value:""));function G(i){const g="q-slider__"+i;return`${g} ${g}${R.value} ${g}${R.value}${Y.value}`}function S(i){const g="q-slider__"+i;return`${g} ${g}${R.value}`}const O=d(()=>{const i=t.selectionColor||t.color;return"q-slider__selection absolute"+(i!==void 0?` text-${i}`:"")}),ce=d(()=>S("markers")+" absolute overflow-hidden"),it=d(()=>S("track-container")),ot=d(()=>G("pin")),lt=d(()=>G("label")),ut=d(()=>G("text-container")),mt=d(()=>G("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),dt=d(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),ct=d(()=>{const i={[_.value]:t.trackSize};return t.trackImg!==void 0&&(i.backgroundImage=`url(${t.trackImg}) !important`),i}),ht=d(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),Pe=d(()=>{const i=le.value-ie.value,g={[te.value]:`${100*ie.value}%`,[x.value]:i===0?"2px":`${100*i}%`};return t.innerTrackImg!==void 0&&(g.backgroundImage=`url(${t.innerTrackImg}) !important`),g});function ft(i){const{min:g,max:y,step:k}=t;let q=g+i*(y-g);if(k>0){const H=(q-E.value)%k;q+=(Math.abs(H)>=k/2?(H<0?-1:1)*k:0)-H}return U.value>0&&(q=parseFloat(q.toFixed(U.value))),P(q,E.value,A.value)}function _e(i){return ne.value===0?0:(i-t.min)/ne.value}function vt(i,g){const y=ve(i),k=t.vertical===!0?P((y.top-g.top)/g.height,0,1):P((y.left-g.left)/g.width,0,1);return P(N.value===!0?1-k:k,ie.value,le.value)}const De=d(()=>Bt(t.markers)===!0?t.markers:Q.value),Ne=d(()=>{const i=[],g=De.value,y=t.max;let k=t.min;do i.push(k),k+=g;while(k<y);return i.push(y),i}),Ue=d(()=>{const i=` ${He}${R.value}-`;return He+`${i}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${i}${N.value===!0?"rtl":"ltr"}`}),ye=d(()=>t.markerLabels===!1?null:pt(t.markerLabels).map((i,g)=>({index:g,value:i.value,label:i.label||i.value,classes:Ue.value+(i.classes!==void 0?" "+i.classes:""),style:{...Oe(i.value),...i.style||{}}}))),Ae=d(()=>({markerList:ye.value,markerMap:bt.value,classes:Ue.value,getStyle:Oe})),gt=d(()=>{const i=oe.value===0?"2px":100*De.value/oe.value;return{...Pe.value,backgroundSize:t.vertical===!0?`2px ${i}%`:`${i}% 2px`}});function pt(i){if(i===!1)return null;if(i===!0)return Ne.value.map(Xt);if(typeof i=="function")return Ne.value.map(y=>{const k=i(y);return Ve(k)===!0?{...k,value:y}:{value:y,label:k}});const g=({value:y})=>y>=t.min&&y<=t.max;return Array.isArray(i)===!0?i.map(y=>Ve(y)===!0?y:{value:y}).filter(g):Object.keys(i).map(y=>{const k=i[y],q=Number(y);return Ve(k)===!0?{...k,value:q}:{value:q,label:k}}).filter(g)}function Oe(i){return{[te.value]:`${100*(i-t.min)/ne.value}%`}}const bt=d(()=>{if(t.markerLabels===!1)return null;const i={};return ye.value.forEach(g=>{i[g.value]=g}),i});function _t(){if(r["marker-label-group"]!==void 0)return r["marker-label-group"](Ae.value);const i=r["marker-label"]||Kt;return ye.value.map(g=>i({marker:g,...Ae.value}))}const yt=d(()=>[[Gt,wt,void 0,{[B.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function wt(i){i.isFinal===!0?(F.value!==void 0&&(a(i.evt),i.touch===!0&&e(!0),F.value=void 0,u("pan","end")),M.value=!1,V.value=!1):i.isFirst===!0?(F.value=l(i.evt),a(i.evt),e(),M.value=!0,u("pan","start")):(a(i.evt),e())}function We(){V.value=!1}function xt(i){a(i,l(i)),e(),j.value=!0,M.value=!0,document.addEventListener("mouseup",we,!0)}function we(){j.value=!1,M.value=!1,e(!0),We(),document.removeEventListener("mouseup",we,!0)}function kt(i){a(i,l(i)),e(!0)}function Ct(i){ze.includes(i.keyCode)&&e(!0)}function $t(i){if(t.vertical===!0)return null;const g=m.lang.rtl!==t.reverse?1-i:i;return{transform:`translateX(calc(${2*g-1} * ${t.thumbSize} / 2 + ${50-100*g}%))`}}function Mt(i){const g=d(()=>j.value===!1&&(V.value===i.focusValue||V.value==="both")?" q-slider--focus":""),y=d(()=>`q-slider__thumb q-slider__thumb${R.value} q-slider__thumb${R.value}-${N.value===!0?"rtl":"ltr"} absolute non-selectable`+g.value+(i.thumbColor.value!==void 0?` text-${i.thumbColor.value}`:"")),k=d(()=>({width:t.thumbSize,height:t.thumbSize,[te.value]:`${100*i.ratio.value}%`,zIndex:V.value===i.focusValue?2:void 0})),q=d(()=>i.labelColor.value!==void 0?` text-${i.labelColor.value}`:""),H=d(()=>$t(i.ratio.value)),xe=d(()=>"q-slider__text"+(i.labelTextColor.value!==void 0?` text-${i.labelTextColor.value}`:""));return()=>{const ke=[I("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[I("path",{d:t.thumbPath})]),I("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(ke.push(I("div",{class:ot.value+" absolute fit no-pointer-events"+q.value},[I("div",{class:lt.value,style:{minWidth:t.thumbSize}},[I("div",{class:ut.value,style:H.value},[I("span",{class:xe.value},i.label.value)])])])),t.name!==void 0&&t.disable!==!0&&f(ke,"push")),I("div",{class:y.value,style:k.value,...i.getNodeData()},ke)}}function Vt(i,g,y,k){const q=[];t.innerTrackColor!=="transparent"&&q.push(I("div",{key:"inner",class:ht.value,style:Pe.value})),t.selectionColor!=="transparent"&&q.push(I("div",{key:"selection",class:O.value,style:i.value})),t.markers!==!1&&q.push(I("div",{key:"marker",class:ce.value,style:gt.value})),k(q);const H=[It("div",{key:"trackC",class:it.value,tabindex:g.value,...y.value},[I("div",{class:dt.value,style:ct.value},q)],"slide",C.value,()=>yt.value)];if(t.markerLabels!==!1){const xe=t.switchMarkerLabelsSide===!0?"unshift":"push";H[xe](I("div",{key:"markerL",class:mt.value},_t()))}return H}return Lt(()=>{document.removeEventListener("mouseup",we,!0)}),{state:{active:M,focus:V,preventFocus:j,dragging:F,editable:C,classes:z,tabindex:be,attributes:T,step:Q,decimals:U,trackLen:ne,innerMin:E,innerMinRatio:ie,innerMax:A,innerMaxRatio:le,positionProp:te,sizeProp:x,isReversed:N},methods:{onActivate:xt,onMobileClick:kt,onBlur:We,onKeyup:Ct,getContent:Vt,getThumbRenderFn:Mt,convertRatioToModel:ft,convertModelToRatio:_e,getDraggingRatio:vt}}}const J={MIN:0,RANGE:1,MAX:2};var de=tt({name:"QRange",props:{...rt,modelValue:{type:Object,default:()=>({min:null,max:null}),validator:e=>"min"in e&&"max"in e},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number],leftThumbColor:String,rightThumbColor:String},emits:st,setup(e,{emit:a}){const{proxy:{$q:l}}=je(),{state:s,methods:t}=nt({updateValue:oe,updatePosition:le,getDragging:ie,formAttrs:d(()=>({type:"hidden",name:e.name,value:`${e.modelValue.min}|${e.modelValue.max}`}))}),u=D(null),r=D(0),m=D(0),n=D({min:0,max:0});function f(){n.value.min=e.modelValue.min===null?s.innerMin.value:P(e.modelValue.min,s.innerMin.value,s.innerMax.value),n.value.max=e.modelValue.max===null?s.innerMax.value:P(e.modelValue.max,s.innerMin.value,s.innerMax.value)}at(()=>`${e.modelValue.min}|${e.modelValue.max}|${s.innerMin.value}|${s.innerMax.value}`,f),f();const M=d(()=>t.convertModelToRatio(n.value.min)),j=d(()=>t.convertModelToRatio(n.value.max)),V=d(()=>s.active.value===!0?r.value:M.value),F=d(()=>s.active.value===!0?m.value:j.value),R=d(()=>{const x={[s.positionProp.value]:`${100*V.value}%`,[s.sizeProp.value]:`${100*(F.value-V.value)}%`};return e.selectionImg!==void 0&&(x.backgroundImage=`url(${e.selectionImg}) !important`),x}),Y=d(()=>{if(s.editable.value!==!0)return{};if(l.platform.is.mobile===!0)return{onClick:t.onMobileClick};const x={onMousedown:t.onActivate};return(e.dragRange===!0||e.dragOnlyRange===!0)&&Object.assign(x,{onFocus:()=>{s.focus.value="both"},onBlur:t.onBlur,onKeydown:te,onKeyup:t.onKeyup}),x});function N(x){return l.platform.is.mobile!==!0&&s.editable.value===!0&&e.dragOnlyRange!==!0?{onFocus:()=>{s.focus.value=x},onBlur:t.onBlur,onKeydown:te,onKeyup:t.onKeyup}:{}}const E=d(()=>e.dragOnlyRange!==!0?s.tabindex.value:null),A=d(()=>l.platform.is.mobile!==!0&&(e.dragRange||e.dragOnlyRange===!0)?s.tabindex.value:null),C=D(null),U=d(()=>N("min")),Q=t.getThumbRenderFn({focusValue:"min",getNodeData:()=>({ref:C,key:"tmin",...U.value,tabindex:E.value}),ratio:V,label:d(()=>e.leftLabelValue!==void 0?e.leftLabelValue:n.value.min),thumbColor:d(()=>e.leftThumbColor||e.thumbColor||e.color),labelColor:d(()=>e.leftLabelColor||e.labelColor),labelTextColor:d(()=>e.leftLabelTextColor||e.labelTextColor)}),be=d(()=>N("max")),ne=t.getThumbRenderFn({focusValue:"max",getNodeData:()=>({...be.value,key:"tmax",tabindex:E.value}),ratio:F,label:d(()=>e.rightLabelValue!==void 0?e.rightLabelValue:n.value.max),thumbColor:d(()=>e.rightThumbColor||e.thumbColor||e.color),labelColor:d(()=>e.rightLabelColor||e.labelColor),labelTextColor:d(()=>e.rightLabelTextColor||e.labelTextColor)});function oe(x){(n.value.min!==e.modelValue.min||n.value.max!==e.modelValue.max)&&a("update:modelValue",{...n.value}),x===!0&&a("change",{...n.value})}function ie(x){const{left:_,top:B,width:T,height:z}=u.value.getBoundingClientRect(),G=e.dragOnlyRange===!0?0:e.vertical===!0?C.value.offsetHeight/(2*z):C.value.offsetWidth/(2*T),S={left:_,top:B,width:T,height:z,valueMin:n.value.min,valueMax:n.value.max,ratioMin:M.value,ratioMax:j.value},O=t.getDraggingRatio(x,S);return e.dragOnlyRange!==!0&&O<S.ratioMin+G?S.type=J.MIN:e.dragOnlyRange===!0||O<S.ratioMax-G?e.dragRange===!0||e.dragOnlyRange===!0?(S.type=J.RANGE,Object.assign(S,{offsetRatio:O,offsetModel:t.convertRatioToModel(O),rangeValue:S.valueMax-S.valueMin,rangeRatio:S.ratioMax-S.ratioMin})):S.type=S.ratioMax-O<O-S.ratioMin?J.MAX:J.MIN:S.type=J.MAX,S}function le(x,_=s.dragging.value){let B;const T=t.getDraggingRatio(x,_),z=t.convertRatioToModel(T);switch(_.type){case J.MIN:T<=_.ratioMax?(B={minR:T,maxR:_.ratioMax,min:z,max:_.valueMax},s.focus.value="min"):(B={minR:_.ratioMax,maxR:T,min:_.valueMax,max:z},s.focus.value="max");break;case J.MAX:T>=_.ratioMin?(B={minR:_.ratioMin,maxR:T,min:_.valueMin,max:z},s.focus.value="max"):(B={minR:T,maxR:_.ratioMin,min:z,max:_.valueMin},s.focus.value="min");break;case J.RANGE:const G=T-_.offsetRatio,S=P(_.ratioMin+G,0,1-_.rangeRatio),O=z-_.offsetModel,ce=P(_.valueMin+O,e.min,e.max-_.rangeValue);B={minR:S,maxR:S+_.rangeRatio,min:parseFloat(ce.toFixed(s.decimals.value)),max:parseFloat((ce+_.rangeValue).toFixed(s.decimals.value))},s.focus.value="both";break}n.value=n.value.min===null||n.value.max===null?{min:B.min||e.min,max:B.max||e.max}:{min:B.min,max:B.max},e.snap!==!0||e.step===0?(r.value=B.minR,m.value=B.maxR):(r.value=t.convertModelToRatio(n.value.min),m.value=t.convertModelToRatio(n.value.max))}function te(x){if(!ze.includes(x.keyCode))return;Le(x);const _=([34,33].includes(x.keyCode)?10:1)*s.step.value,B=([34,37,40].includes(x.keyCode)?-1:1)*(s.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*_;if(s.focus.value==="both"){const T=n.value.max-n.value.min,z=P(parseFloat((n.value.min+B).toFixed(s.decimals.value)),s.innerMin.value,s.innerMax.value-T);n.value={min:z,max:parseFloat((z+T).toFixed(s.decimals.value))}}else{if(s.focus.value===!1)return;{const T=s.focus.value;n.value={...n.value,[T]:P(parseFloat((n.value[T]+B).toFixed(s.decimals.value)),T==="min"?s.innerMin.value:n.value.min,T==="max"?s.innerMax.value:n.value.max)}}}oe()}return()=>{const x=t.getContent(R,A,Y,_=>{_.push(Q(),ne())});return I("div",{ref:u,class:"q-range "+s.classes.value+(e.modelValue.min===null||e.modelValue.max===null?" q-slider--no-value":""),...s.attributes.value,"aria-valuenow":e.modelValue.min+"|"+e.modelValue.max},x)}}});const Yt=X({name:"SliderWithTextInput",props:{range:Object,min_prefix:{type:String,default:"Best \xA3"},max_prefix:{type:String,default:"Worst \xA3"},left_label_value:{type:String,default:""},right_label_value:{type:String,default:""},min_label_text:{type:String,default:"Best Price"},max_label_text:{type:String,default:"Worst Price"},min:{type:Number,default:0},max:{type:Number,default:1e6},step:{type:Number,default:5e3}},emits:["update:range"],data(){return{}},methods:{validateworst(){this.$refs.worstinput.validate(),this.emitrangevalue(this.rangevalue)},validatebest(){this.$refs.bestinput.validate(),this.emitrangevalue(this.rangevalue)},emitrangevalue(e){const a={min:this.ensurenumber(e.min),max:this.ensurenumber(e.max)};this.$emit("update:range",a)},ensurenumber(e){return e===null||typeof e=="undefined"||e===""?0:e}},computed:{left_label_value_used(){return this.left_label_value==""?this.min_prefix+this.rangevalue.min/1e3+"k":this.left_label_value},right_label_value_used(){return this.right_label_value==""?this.max_prefix+this.rangevalue.max/1e3+"k":this.right_label_value},isValid(){return this.$refs.worstinput.validate()?this.$refs.bestinput.validate():!1},rangevalue:{get(){return this.range},set(e){this.emitrangevalue(e)}}}}),Ht={class:"col-grow"},Jt={class:"col-grow row"},Zt={class:"pricetblcell"},ea={class:"pricetblcell"};function ta(e,a,l,s,t,u){return v(),b(pe,null,[o("div",Ht,[L(" \xA0 "),h(de,{modelValue:e.rangevalue,"onUpdate:modelValue":a[0]||(a[0]=r=>e.rangevalue=r),min:e.min,max:e.max,step:e.step,"thumb-size":"40px","drag-range":"",label:"",snap:"","left-label-value":e.left_label_value_used,"right-label-value":e.right_label_value_used},null,8,["modelValue","min","max","step","left-label-value","right-label-value"])]),o("div",Jt,[o("div",Zt,[L(c(e.min_label_text)+": ",1),h(ge,{ref:"bestinput",modelValue:e.rangevalue.min,"onUpdate:modelValue":[a[1]||(a[1]=r=>e.rangevalue.min=r),e.validateworst],modelModifiers:{number:!0},type:"number",step:e.step,filled:"",style:{"max-width":"110px"},rules:[r=>r<=e.rangevalue.max||"Must be lower than "+e.max_label_text]},null,8,["modelValue","step","rules","onUpdate:modelValue"])]),o("div",ea,[L(c(e.max_label_text)+": ",1),h(ge,{ref:"worstinput",modelValue:e.rangevalue.max,"onUpdate:modelValue":[a[2]||(a[2]=r=>e.rangevalue.max=r),e.validatebest],modelModifiers:{number:!0},type:"number",step:e.step,filled:"",style:{"max-width":"110px"},rules:[r=>r>=e.rangevalue.min||"Must be higher than "+e.min_label_text]},null,8,["modelValue","step","rules","onUpdate:modelValue"])])])],64)}var Ee=K(Yt,[["render",ta]]);const aa=X({name:"BrrCalcGdv",emits:["projectchanged"],components:{SliderWithTextInput:Ee},data(){return{gdvitems:[{id:1,name:"",gdvrange:{min:4e5,max:6e5}}],isValid:!0,emit_project_change_notification:!0}},methods:{format_currency(e){return W.format_currency(e)},addgdvitem(){var e=Math.max(...this.gdvitems.map(a=>a.id));this.gdvitems.push({id:e+1,name:"",gdvrange:{min:4e5,max:6e5}}),this.updateisvalid()},delrow(e){this.gdvitems.length<2||(this.gdvitems=this.gdvitems.filter(function(a){return a.id!=e}),this.updateisvalid())},updateisvalid(){const e=this;setTimeout(function(){let a=!0;e.$refs.slider.forEach(function(l){l.isValid||(a=!1)}),e.isValid=!e.isValid,e.isValid=a},5)},serializer_load_data(e){this.emit_project_change_notification=!1,this.gdvitems=e.gdvitems;const a=this;setTimeout(function(){a.emit_project_change_notification=!0},50)}},computed:{totalmin(){return[...this.gdvitems.map(e=>e.gdvrange.min)].reduce((e,a)=>e+a,0)},totalmax(){return[...this.gdvitems.map(e=>e.gdvrange.max)].reduce((e,a)=>e+a,0)},total(){return{min:this.totalmin,max:this.totalmax}},serializer_card_data(){return{gdvitems:this.gdvitems}}},watch:{total(e){this.emit_project_change_notification&&this.$emit("projectchanged","GDV")}}}),ra=o("div",{class:"text-h6"},"GDV (Gross Development Value) ",-1),sa=o("div",{class:"text-subtitle2"},"This is the estimated final value of the property after works are complete",-1),na={class:"row"},ia={class:"col-grow",style:{"align-self":"flex-end"}},oa={class:"col-grow"},la=o("div",null,"If the property is to be split into flats add the GDV of each above and the number below is the total GDV.",-1),ua={class:"text-h6"};function ma(e,a,l,s,t,u){const r=me("SliderWithTextInput");return v(),ee(se,{inline:"",class:"q-ma-sm card-style"},{default:p(()=>[h($,null,{default:p(()=>[ra,sa]),_:1}),h($,null,{default:p(()=>[(v(!0),b(pe,null,qe(e.gdvitems,m=>(v(),b("div",{class:"col",key:m.id},[o("div",na,[h(ge,{modelValue:m.name,"onUpdate:modelValue":n=>m.name=n,label:"Item"},null,8,["modelValue","onUpdate:modelValue"]),o("div",ia,c(e.format_currency(m.gdvrange.min))+" - "+c(e.format_currency(m.gdvrange.max)),1),this.gdvitems.length>1?(v(),ee(re,{key:0,round:"",icon:"delete",onClick:n=>e.delrow(m.id)},null,8,["onClick"])):w("",!0)]),o("div",oa,[h(r,{ref_for:!0,ref:"slider",range:m.gdvrange,"onUpdate:range":[n=>m.gdvrange=n,e.updateisvalid],min_prefix:"Worst \xA3",max_prefix:"Best \xA3",min_label_text:"Worst Price",max_label_text:"Best Price"},null,8,["range","onUpdate:range"])])]))),128)),h(re,{round:"",color:"primary",icon:"add",onClick:e.addgdvitem},null,8,["onClick"]),la,o("div",ua,"Total: "+c(e.format_currency(e.totalmin))+" - "+c(e.format_currency(e.totalmax)),1)]),_:1})]),_:1})}var Jr=K(aa,[["render",ma]]);const da=X({name:"BrrCalcPurchase",props:["purchaserange"],emits:["update:purchaserange","projectchanged"],components:{SliderWithTextInput:Ee},data(){return{emit_project_change_notification:!0}},methods:{serializer_load_data(e){this.emit_project_change_notification=!1,this.purchaserangevalue=e.purchaserangevalue;const a=this;setTimeout(function(){a.emit_project_change_notification=!0},50)},format_currency(e){return W.format_currency(e)}},watch:{serializer_card_data(e){this.emit_project_change_notification&&this.$emit("projectchanged","PurchasePrice")}},computed:{serializer_card_data(){return{purchaserangevalue:this.purchaserangevalue}},isValid(){return this.$refs.slider.isValid},purchaserangevalue:{get(){return this.purchaserange},set(e){this.$emit("update:purchaserange",e)}},purchase_items(){return[{name:"Purchase Property",worst:-1*this.purchaserange.max,best:-1*this.purchaserange.min}]}}}),ca=o("div",{class:"text-h6"},"Purchase Price",-1),ha=o("div",{class:"text-subtitle2"},"In this section we work out the purchase price. This figure is not just read from the listing we will aim to get a below market value (BMV) price and this will involve finding the right property seller and being able to negotiate the price.",-1),fa={class:"text-h6"};function va(e,a,l,s,t,u){const r=me("SliderWithTextInput");return v(),ee(se,{inline:"",class:"q-ma-sm card-style"},{default:p(()=>[h($,null,{default:p(()=>[ca,ha]),_:1}),h($,null,{default:p(()=>[h(r,{ref:"slider",range:e.purchaserangevalue,"onUpdate:range":a[0]||(a[0]=m=>e.purchaserangevalue=m)},null,8,["range"]),o("div",fa,"Price: "+c(e.format_currency(e.purchaserangevalue.min))+" - "+c(e.format_currency(e.purchaserangevalue.max)),1)]),_:1})]),_:1})}var Zr=K(da,[["render",va]]);const ga=X({name:"BrrCalcRefurbCost",emits:["projectchanged"],data(){return{refurbrange:{min:3e4,max:4e4},refurbtimerange:{min:6,max:12},emit_project_change_notification:!0}},methods:{format_currency(e){return W.format_currency(e)},serializer_load_data(e){this.emit_project_change_notification=!1,this.refurbrange=e.refurbrange,this.refurbtimerange=e.refurbtimerange;const a=this;setTimeout(function(){a.emit_project_change_notification=!0},50)}},watch:{serializer_card_data(e){this.emit_project_change_notification&&this.$emit("projectchanged","RefurbCost")}},computed:{serializer_card_data(){return{refurbrange:this.refurbrange,refurbtimerange:this.refurbtimerange}},refurb_cost_total(){return this.refurbrange},refurb_cost_items(){return[{name:"Refurbishment",worst:-1*this.refurb_cost_total.max,best:-1*this.refurb_cost_total.min}]},refurbmonths(){return{worst:this.refurbtimerange.max,best:this.refurbtimerange.min}}}}),pa=o("div",{class:"text-h6"},"Refurbishment",-1),ba=o("div",{class:"text-subtitle2"},"This section holds the details of the refurbishment. Put in the minimum and maximum estimated cost as well the length of time the refurbishment will take.",-1),_a={class:"col-grow"},ya={class:"text-h6"},wa={class:"col-grow"},xa={class:"text-h6"},ka=o("div",null,"This figure is the amount of time to take out loans for and effects the amount of interest that needs to be paid.",-1);function Ca(e,a,l,s,t,u){return v(),ee(se,{inline:"",class:"q-ma-sm card-style"},{default:p(()=>[h($,null,{default:p(()=>[pa,ba]),_:1}),h($,null,{default:p(()=>[o("div",_a,[L(" \xA0 "),h(de,{modelValue:e.refurbrange,"onUpdate:modelValue":a[0]||(a[0]=r=>e.refurbrange=r),min:0,max:2e5,step:1e3,"thumb-size":"40px","drag-range":"",label:"","left-label-value":"Best \xA3"+e.refurbrange.min/1e3+"k","right-label-value":"Worst \xA3"+e.refurbrange.max/1e3+"k"},null,8,["modelValue","left-label-value","right-label-value"])]),o("div",ya,"Cost: "+c(e.format_currency(e.refurbrange.min))+" - "+c(e.format_currency(e.refurbrange.max)),1),o("div",wa,[L(" \xA0 "),h(de,{modelValue:e.refurbtimerange,"onUpdate:modelValue":a[1]||(a[1]=r=>e.refurbtimerange=r),min:0,max:36,step:1,"thumb-size":"40px","drag-range":"",label:"","left-label-value":"Best "+e.refurbtimerange.min+" months","right-label-value":"Worst "+e.refurbtimerange.max+" months"},null,8,["modelValue","left-label-value","right-label-value"])]),o("div",xa,"Duration: "+c(e.refurbtimerange.min)+" - "+c(e.refurbtimerange.max)+" months",1),ka]),_:1})]),_:1})}var es=K(ga,[["render",Ca]]);function Je(e,a){return a<e.from?0:typeof e.upto=="undefined"?(a-e.from)*e.rate:a>e.upto?(e.upto-e.from)*e.rate:(a-e.from)*e.rate}const $a=X({name:"BrrCalcStampduty",emits:["projectchanged"],props:["purchaserange"],data(){return{table:{columns:[{name:"range",label:"Range",field:"range"},{name:"rate",label:"Rate",field:"rate"},{name:"min_amount",label:"Min",field:"min"},{name:"max_amount",label:"Max",field:"max"}]},stampdutydata:{exempt:!1,commercial:!1,location:"england",locationoptions:[{label:"England",value:"england"},{label:"Scotland",value:"scotland"}]},emit_project_change_notification:!0}},methods:{format_currency(e){return W.format_currency(e)},helpexempt(){this.$q.dialog({title:"Stamp Duty Exempt",message:'Some purchases are stamp duty exempt. e.g. a freehold property under \xA340k. See <a href="https://www.gov.uk/stamp-duty-land-tax/reliefs-and-exemptions" target="_new">here</a> for details.',html:!0}).onOk(()=>{})},serializer_load_data(e){this.emit_project_change_notification=!1,this.stampdutydata.exempt=e.stampdutydata_exempt,this.stampdutydata.commercial=e.stampdutydata_commercial,this.stampdutydata.location=e.stampdutydata_location;const a=this;setTimeout(function(){a.emit_project_change_notification=!0},50)}},watch:{serializer_card_data(e){this.emit_project_change_notification&&this.$emit("projectchanged","StampDuty")}},computed:{serializer_card_data(){return{stampdutydata_exempt:this.stampdutydata.exempt,stampdutydata_commercial:this.stampdutydata.commercial,stampdutydata_location:this.stampdutydata.location}},stampduty(){var e=0,a=0;let l=0;for(;l<this.stampdutybandswithamount.length;)e+=this.stampdutybandswithamount[l].min,a+=this.stampdutybandswithamount[l].max,l++;return{min:e,max:a}},stampduty_items(){return this.stampdutydata.exempt?[]:[{name:"Stamp Duty",worst:-1*this.stampduty.max,best:-1*this.stampduty.min}]},stampdutybandswithamount(){var e=this;return this.stampdutybands.bands.map(function(a){return{range:W.format_currency(a.from)+" - "+W.format_currency(a.upto),rate:a.rate*100+"%",min:Je(a,e.purchaserange.min),max:Je(a,e.purchaserange.max)}})},stampdutybands(){return this.stampdutydata.exempt?{name:"exempt",bands:[{from:0,upto:void 0,rate:0}]}:this.stampdutydata.commercial?this.stampdutydata.location==="england"?{name:"England Commercial",bands:[{from:0,upto:15e4,rate:0},{from:15e4,upto:25e4,rate:.02},{from:25e4,upto:void 0,rate:.05}]}:{name:"Scotland Commercial",bands:[{from:0,upto:15e4,rate:0},{from:15e4,upto:25e4,rate:.01},{from:25e4,upto:void 0,rate:.05}]}:this.stampdutydata.location==="england"?{name:"England Residential",bands:[{from:0,upto:25e4,rate:.03},{from:25e4,upto:925e3,rate:.08},{from:925e3,upto:15e5,rate:.13},{from:15e5,upto:void 0,rate:.15}]}:{name:"Scotland Residential",bands:[{from:0,upto:4e4,rate:0},{from:4e4,upto:145e3,rate:.03},{from:145e3,upto:25e4,rate:.05},{from:25e4,upto:325e3,rate:.08},{from:325e3,upto:75e4,rate:.13},{from:75e4,upto:void 0,rate:.15}]}}}}),Ma=o("div",{class:"text-h6"},"Stamp Duty",-1),Va=o("div",{class:"text-subtitle2"},"Stampduty calculation assuming investment property. This is a basic calculator useful for estimates. Factors effecting stamp duty include if the property is habitable, if it\u2019s a commercial property and there are different rules for Scotland.",-1),Ta={class:"q-pa-lg"},Sa={class:"text-h6"};function Ra(e,a,l,s,t,u){return v(),ee(se,{inline:"",class:"q-ma-sm card-style"},{default:p(()=>[h($,null,{default:p(()=>[Ma,Va]),_:1}),h($,null,{default:p(()=>[h(ae,{modelValue:e.stampdutydata.exempt,"onUpdate:modelValue":a[0]||(a[0]=r=>e.stampdutydata.exempt=r),label:"Stampduty Exempt"},null,8,["modelValue"]),h(re,{round:"",dense:"",flat:"",icon:"info",onClick:e.helpexempt},null,8,["onClick"]),h(ae,{modelValue:e.stampdutydata.commercial,"onUpdate:modelValue":a[1]||(a[1]=r=>e.stampdutydata.commercial=r),label:"Commercial"},null,8,["modelValue"]),o("div",Ta,[L(" Property Location "),h(Be,{modelValue:e.stampdutydata.location,"onUpdate:modelValue":a[2]||(a[2]=r=>e.stampdutydata.location=r),options:e.stampdutydata.locationoptions,inline:""},null,8,["modelValue","options"]),o("div",Sa,"Stamp Duty: "+c(e.format_currency(e.stampduty.min))+" - "+c(e.format_currency(e.stampduty.max)),1)]),h(Nt,{"expand-separator":"",icon:"info",label:"Details"},{default:p(()=>[o("div",null,[h(Dt,{title:e.stampdutybands.name,columns:e.table.columns,rows:e.stampdutybandswithamount,"hide-bottom":""},{"body-cell-min_amount":p(r=>[h(Xe,{props:r},{default:p(()=>[L(c(e.format_currency(r.value)),1)]),_:2},1032,["props"])]),"body-cell-max_amount":p(r=>[h(Xe,{props:r},{default:p(()=>[L(c(e.format_currency(r.value)),1)]),_:2},1032,["props"])]),_:1},8,["title","columns","rows"])])]),_:1})]),_:1})]),_:1})}var ts=K($a,[["render",Ra]]);const Fa=()=>({});var fe=tt({name:"QSlider",props:{...rt,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:st,setup(e,{emit:a}){const{proxy:{$q:l}}=je(),{state:s,methods:t}=nt({updateValue:R,updatePosition:N,getDragging:Y,formAttrs:Et(e)}),u=D(null),r=D(0),m=D(0);function n(){m.value=e.modelValue===null?s.innerMin.value:P(e.modelValue,s.innerMin.value,s.innerMax.value)}at(()=>`${e.modelValue}|${s.innerMin.value}|${s.innerMax.value}`,n),n();const f=d(()=>t.convertModelToRatio(m.value)),M=d(()=>s.active.value===!0?r.value:f.value),j=d(()=>{const C={[s.positionProp.value]:`${100*s.innerMinRatio.value}%`,[s.sizeProp.value]:`${100*(M.value-s.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(C.backgroundImage=`url(${e.selectionImg}) !important`),C}),V=t.getThumbRenderFn({focusValue:!0,getNodeData:Fa,ratio:M,label:d(()=>e.labelValue!==void 0?e.labelValue:m.value),thumbColor:d(()=>e.thumbColor||e.color),labelColor:d(()=>e.labelColor),labelTextColor:d(()=>e.labelTextColor)}),F=d(()=>s.editable.value!==!0?{}:l.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:E,onBlur:t.onBlur,onKeydown:A,onKeyup:t.onKeyup});function R(C){m.value!==e.modelValue&&a("update:modelValue",m.value),C===!0&&a("change",m.value)}function Y(){return u.value.getBoundingClientRect()}function N(C,U=s.dragging.value){const Q=t.getDraggingRatio(C,U);m.value=t.convertRatioToModel(Q),r.value=e.snap!==!0||e.step===0?Q:t.convertModelToRatio(m.value)}function E(){s.focus.value=!0}function A(C){if(!ze.includes(C.keyCode))return;Le(C);const U=([34,33].includes(C.keyCode)?10:1)*s.step.value,Q=([34,37,40].includes(C.keyCode)?-1:1)*(s.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*U;m.value=P(parseFloat((m.value+Q).toFixed(s.decimals.value)),s.innerMin.value,s.innerMax.value),R()}return()=>{const C=t.getContent(j,s.tabindex,F,U=>{U.push(V())});return I("div",{ref:u,class:s.classes.value+(e.modelValue===null?" q-slider--no-value":""),...s.attributes.value,"aria-valuenow":e.modelValue},C)}}});const Ze={l1:{lt249:{min:300,max:500},lt349:{min:500,max:600},lt449:{min:600,max:700},top:{min:700,max:900}},l2:{lt249:{min:400,max:600},lt349:{min:600,max:700},lt449:{min:700,max:800},top:{min:800,max:1e3}},l3:{lt249:{min:630,max:800},lt349:{min:800,max:900},lt449:{min:900,max:1100},top:{min:1e3,max:1500}}};function Se(){return{min:2300,max:2300}}const Ba=X({name:"BrrCalcOtherCosts",emits:["projectchanged"],props:["purchaserange"],components:{SliderWithTextInput:Ee},data(){return{emit_project_change_notification:!0,solicitors_fees:Se(),solicitors_fees_manual:!1,auction:!1,survey:{type:"l3",typeoptions:[{label:"None",value:"none"},{label:"RICS Level 1",value:"l1"},{label:"RICS Level 2",value:"l2"},{label:"RICS Level 3",value:"l3"}]},sourcing:{usesourcing:!1,custom:3e3,type:"threek",typeoptions:[{label:"\xA33,000",value:"threek"},{label:"2% of purchase",value:"twopercent"},{label:"Custom",value:"custom"}]},consts:{auction_survey:300,auction_legal_review:150}}},methods:{click_manual_solicitors_fees(){let e=!1;this.solicitors_fees_manual||this.$q.dialog({title:"Remove Solicitor Fee Manual Entey",message:"This will revert to the default value. Are you sure?",html:!1,ok:{push:!0,label:"Yes",color:"primary"},cancel:{push:!0,label:"Cancel",color:"primary"}}).onOk(a=>{e=!0,this.solicitors_fees=Se()}).onCancel(()=>{this.solicitors_fees_manual=!0}).onDismiss(()=>{e||(this.solicitors_fees_manual=!0)})},format_currency(e){return W.format_currency(e)},helpsurvey(){this.$q.dialog({title:"RICS Survey",message:'See <a href="https://hoa.org.uk/advice/guides-for-homeowners/i-am-buying/how-much-does-a-house-survey-cost/" target="_new">this website</a> here for my source info for caculating survey costs. for details.',html:!0}).onOk(()=>{})},serializer_load_data(e){this.emit_project_change_notification=!1,this.auction=e.auction,this.survey.type=e.survey_type,this.sourcing.usesourcing=e.sourcing_usesourcing,this.sourcing.custom=e.sourcing_custom,this.sourcing.type=e.sourcing_type,typeof e.solicitors_fees_manual=="undefined"?(this.solicitors_fees_manual=!1,this.solicitors_fees=Se()):(this.solicitors_fees_manual=e.solicitors_fees_manual,this.solicitors_fees=e.solicitors_fees);const a=this;setTimeout(function(){a.emit_project_change_notification=!0},50)}},watch:{serializer_card_data(e){this.emit_project_change_notification&&this.$emit("projectchanged","OtherCosts")}},computed:{serializer_card_data(){return{auction:this.auction,survey_type:this.survey.type,sourcing_usesourcing:this.sourcing.usesourcing,sourcing_custom:this.sourcing.custom,sourcing_type:this.sourcing.type,solicitors_fees_manual:this.solicitors_fees_manual,solicitors_fees:this.solicitors_fees}},surveyfeetext(){return this.surveyfee.min===this.surveyfee.max?this.format_currency(this.surveyfee.min):this.format_currency(this.surveyfee.min)+"-"+this.format_currency(this.surveyfee.max)},surveyfee(){if(this.survey.type==="none")return{min:0,max:0};function e(l){return l<249e3?"lt249":l<349e3?"lt349":l<449e3?"lt449":"top"}var a={min:e(this.purchaserange.min),max:e(this.purchaserange.max)};return{min:Ze[this.survey.type][a.min].min,max:Ze[this.survey.type][a.max].max}},sourcingfeetext(){return this.sourcingfee.min===this.sourcingfee.max?this.format_currency(this.sourcingfee.min):this.format_currency(this.sourcingfee.min)+"-"+this.format_currency(this.sourcingfee.max)},sourcingfee(){return this.sourcing.usesourcing?this.sourcing.type==="threek"?{min:3e3,max:3e3}:this.sourcing.type==="custom"?{min:this.sourcing.custom,max:this.sourcing.custom}:{min:this.purchaserange.min*.02,max:this.purchaserange.max*.02}:{min:0,max:0}},total(){let e={min:0,max:0};return this.othercosts_items_detail.forEach(function(l){e.min+=-1*l.best,e.max+=-1*l.worst}),e},othercosts_items(){let e=[];return e.push({name:"Other Costs",worst:-1*this.total.max,best:-1*this.total.min}),e},othercosts_items_detail(){let e=[];return e.push({name:"Fees",worst:-1*this.solicitors_fees.max,best:-1*this.solicitors_fees.min}),this.auction&&(e.push({name:"Auction Survey",worst:-1*this.consts.auction_survey,best:-1*this.consts.auction_survey}),e.push({name:"Auction Legal Review",worst:-1*this.consts.auction_legal_review,best:-1*this.consts.auction_legal_review})),this.sourcing.usesourcing&&e.push({name:"Sourcing Fee",worst:-1*this.sourcingfee.max,best:-1*this.sourcingfee.min}),this.survey.type!=="none"&&e.push({name:"Survey",worst:-1*this.surveyfee.max,best:-1*this.surveyfee.min}),e}}}),La=o("div",{class:"text-h6"},"Other Costs",-1),ja=o("div",{class:"text-subtitle2"},"Other costs to be considered",-1),qa={class:"text-h6"},Ia={key:0},za={key:1},Ea=o("div",{class:"text-h6"},"Auction",-1),Pa={key:0},Da=o("div",null,"Note survey and legal pack review costs may greater as they may have been done multiple times for auctions not won",-1),Na=o("div",{class:"text-h6"},"Sourcing",-1),Ua={key:0},Aa={key:0},Oa={class:"col-grow"},Wa={class:"text-h6"},Qa=o("div",null,"If you\u2019re getting a pre-purchase survey report on the building select the type.",-1),Ga={class:"text-h6"};function Xa(e,a,l,s,t,u){const r=me("SliderWithTextInput");return v(),ee(se,{inline:"",class:"q-ma-sm card-style"},{default:p(()=>[h($,null,{default:p(()=>[La,ja]),_:1}),h($,null,{default:p(()=>[o("div",qa,"Solicitors Fees: "+c(e.format_currency(e.solicitors_fees.min))+" - "+c(e.format_currency(e.solicitors_fees.max)),1),o("div",null,[h(ae,{modelValue:this.solicitors_fees_manual,"onUpdate:modelValue":a[0]||(a[0]=m=>this.solicitors_fees_manual=m),label:"Enter Manually",onClick:e.click_manual_solicitors_fees},null,8,["modelValue","onClick"])]),this.solicitors_fees_manual?(v(),b("div",Ia,[h(r,{ref:"slider",range:e.solicitors_fees,"onUpdate:range":a[1]||(a[1]=m=>e.solicitors_fees=m),min_prefix:"Min \xA3",max_prefix:"Max \xA3",min_label_text:"Min Fees",max_label_text:"Max Fees",min:0,max:1e4,step:500},null,8,["range"])])):w("",!0),this.solicitors_fees_manual?w("",!0):(v(),b("div",za,"Likely value - fees may vary depending on project"))]),_:1}),h($,null,{default:p(()=>[Ea,o("div",null,[h(ae,{modelValue:e.auction,"onUpdate:modelValue":a[2]||(a[2]=m=>e.auction=m),label:"Buying at auction"},null,8,["modelValue"])]),e.auction?(v(),b("div",Pa,[o("div",null,"\xA3"+c(e.consts.auction_survey)+" to get a survey",1),o("div",null,"\xA3"+c(e.consts.auction_legal_review)+" to get a review of legal pack",1),Da])):w("",!0)]),_:1}),h($,null,{default:p(()=>[Na,o("div",null,[h(ae,{modelValue:e.sourcing.usesourcing,"onUpdate:modelValue":a[3]||(a[3]=m=>e.sourcing.usesourcing=m),label:"Found using a deal sourcer"},null,8,["modelValue"])]),e.sourcing.usesourcing?(v(),b("div",Ua,[h(Be,{modelValue:e.sourcing.type,"onUpdate:modelValue":a[4]||(a[4]=m=>e.sourcing.type=m),options:e.sourcing.typeoptions,inline:""},null,8,["modelValue","options"]),e.sourcing.type==="custom"?(v(),b("div",Aa,[o("div",Oa,[h(fe,{label:"","label-value":e.format_currency(e.sourcing.custom),modelValue:e.sourcing.custom,"onUpdate:modelValue":a[5]||(a[5]=m=>e.sourcing.custom=m),min:500,max:1e4,step:500,"thumb-size":"40px"},null,8,["label-value","modelValue"])])])):w("",!0),L(" Sourcing fee: "+c(e.sourcingfeetext),1)])):w("",!0)]),_:1}),h($,null,{default:p(()=>[o("div",Wa,[L("Survey"),h(re,{round:"",dense:"",flat:"",icon:"info",onClick:e.helpsurvey},null,8,["onClick"])]),Qa,h(Be,{modelValue:e.survey.type,"onUpdate:modelValue":a[6]||(a[6]=m=>e.survey.type=m),options:e.survey.typeoptions,inline:""},null,8,["modelValue","options"]),o("div",null,"Survey cost: "+c(e.surveyfeetext)+" (Based on stored ranges for this purchase cost.)",1)]),_:1}),h($,null,{default:p(()=>[o("div",Ga,"Total: "+c(e.format_currency(e.total.min))+" - "+c(e.format_currency(e.total.max)),1)]),_:1})]),_:1})}var as=K(Ba,[["render",Xa]]);const Ka=X({name:"BrrCalcFinance",emits:["projectchanged"],props:["purchaserange","refurb_cost_total","stampduty_total","othercosts_total","refurbmonths","gdv_total"],data(){return{emit_project_change_notification:!0,bridge:{usebridge:!1,startcost:.01,endcost:.01,monthlycost:.01,amount:{worst:1,best:1}},mortgage:{usemortgage:!1,rate:{min:6,max:6},ltv:{min:75,max:75},arrangementfee:1500},loans:[]}},methods:{format_currency(e){return W.format_currency(e)},format_percent(e){return W.format_percent(e)},addloan(){var e=0;this.loans.length>0&&(e=Math.max(...this.loans.map(a=>a.id))),this.loans.push({id:e+1,name:"Loan "+(e+1).toString(),amount:2e4,rate:10})},delloan(e){this.loans.length<1||(this.loans=this.loans.filter(function(a){return a.id!=e}))},updatemortgagetoggle(){this.bridge.usebridge&&this.mortgage.usemortgage&&(Ge.create({color:"bg-grey-2",message:"Use mortgage or bridge but not both",timeout:2e3}),this.mortgage.usemortgage=!1)},updatebridgetoggle(){this.bridge.usebridge&&this.mortgage.usemortgage&&(Ge.create({color:"bg-grey-2",message:"Use mortgage or bridge but not both",timeout:2e3}),this.bridge.usebridge=!1)},serializer_load_data(e){this.emit_project_change_notification=!1,this.bridge=e.bridge,this.mortgage=e.mortgage,this.loans=e.loans;const a=this;setTimeout(function(){a.emit_project_change_notification=!0},150)}},watch:{serializer_card_data(e){this.emit_project_change_notification&&this.$emit("projectchanged","Finance:serializer")},totalmoneyneeded(e){this.emit_project_change_notification&&this.$emit("projectchanged","Finance:totalmoneyneeded")},finance_out_items(e){this.emit_project_change_notification&&this.$emit("projectchanged","Finance:outitems")}},computed:{caculated_loan_details(){return this.loans.map(function(e){return{id:e.id,name:e.name,amount:e.amount,rate:e.rate,interest:e.amount*e.rate/100}})},serializer_card_data(){return{bridge:this.bridge,mortgage:this.mortgage,loans:this.loans}},mortgage_amount_borrowed(){return{best:this.purchaserange.min*(this.mortgage.ltv.min/100),worst:this.purchaserange.max*(this.mortgage.ltv.max/100)}},mortgage_monthly_payment(){return{best:this.mortgage_amount_borrowed.best*(this.mortgage.rate.min/100)/12,worst:this.mortgage_amount_borrowed.worst*(this.mortgage.rate.max/100)/12}},maxbridge(){return{best:this.purchaserange.min*.7,worst:this.purchaserange.max*.7}},maxloan(){return{best:this.totalexpenditure.min,worst:this.totalexpenditure.max}},bridgecost(){if(!this.bridge.usebridge)return{best:0,worst:0};var e=this.bridge.amount.best*(this.bridge.startcost+this.bridge.endcost+this.bridge.monthlycost*this.bridgemontghsupfront.min),a=this.bridge.amount.worst*(this.bridge.startcost+this.bridge.endcost+this.bridge.monthlycost*this.bridgemontghsupfront.max);return{best:e,worst:a}},bridgeamount(){return this.bridge.usebridge?{best:this.bridge.amount.best,worst:this.bridge.amount.worst}:{best:0,worst:0}},bridgemontghsupfront(){var e=12;this.refurbmonths.best>12&&(e=this.refurbmonths.best);var a=12;return this.refurbmonths.worst>12&&(a=this.refurbmonths.worst),{min:e,max:a}},totalexpenditure(){var e={min:this.purchaserange.min+this.refurb_cost_total.min+this.stampduty_total.min+this.othercosts_total.min,max:this.purchaserange.max+this.refurb_cost_total.max+this.stampduty_total.max+this.othercosts_total.max};return e},totalmoneyneeded(){var e=0;return this.loans.length>0&&(e=this.loans.reduce(function(a,l){return a+l.amount},0)),this.mortgage.usemortgage?{worst:this.totalexpenditure.max+this.mortgage_intrest_payment_total.worst+this.mortgage.arrangementfee-(this.mortgage_amount_borrowed.worst+e),best:this.totalexpenditure.min+this.mortgage_intrest_payment_total.best+this.mortgage.arrangementfee-(this.mortgage_amount_borrowed.best+e)}:this.bridge.usebridge?{worst:this.totalexpenditure.max-e-this.bridge.amount.worst+this.bridgecost.worst,best:this.totalexpenditure.min-e-this.bridge.amount.best+this.bridgecost.best}:{worst:this.totalexpenditure.max-e,best:this.totalexpenditure.min-e}},finance_in_items_without_cash(){let e=[];return this.loans.map(function(a){e.push({name:a.name,worst:a.amount,best:a.amount})}),this.mortgage.usemortgage&&(e.push({name:"Mortgage Payment",worst:this.mortgage_amount_borrowed.worst,best:this.mortgage_amount_borrowed.best}),e.push({name:"Mortgage Arrangement Fee",worst:-this.mortgage.arrangementfee,best:-this.mortgage.arrangementfee})),this.bridge.usebridge&&e.push({name:"Bridge Payment",worst:this.bridge.amount.worst-this.bridgecost.worst,best:this.bridge.amount.best-this.bridgecost.best}),e},finance_in_items(){let e=[];return e.push({name:"Finance Cash",worst:this.totalmoneyneeded.worst,best:this.totalmoneyneeded.best}),e=e.concat(this.finance_in_items_without_cash),e},mortgage_intrest_payment_total(){return{worst:this.mortgage_monthly_payment.worst*this.refurbmonths.worst,best:this.mortgage_monthly_payment.worst*this.refurbmonths.best}},finance_during_items(){let e=[];return this.mortgage.usemortgage&&e.push({name:"Mortgage Intrest payments (x"+this.refurbmonths.worst+"/"+this.refurbmonths.best+" months)",worst:-1*this.mortgage_intrest_payment_total.worst,best:-1*this.mortgage_intrest_payment_total.best}),e},finance_out_items(){let e=[];return this.loans.map(function(a){var l=-(a.amount+a.amount*a.rate/100);e.push({name:"Repay "+a.name,worst:l,best:l})}),this.mortgage.usemortgage&&e.push({name:"Payback Purchase Mortgage Capital",worst:-1*this.mortgage_amount_borrowed.worst,best:-1*this.mortgage_amount_borrowed.best}),this.bridge.usebridge&&(e.push({name:"Bridge Payback",worst:this.bridge.amount.worst*-1,best:this.bridge.amount.best*-1}),e.push({name:"Bridge Interest Credit",worst:(12-this.refurbmonths.worst)*.01*this.bridgecost.worst,best:(12-this.refurbmonths.best)*.01*this.bridgecost.best})),e}}}),Ya=o("div",{class:"text-h6"},"Finance",-1),Ha=o("div",{class:"text-subtitle2"},"This section is to estimate the finance costs of the project.",-1),Ja=o("div",{class:"text-h6"},"Total Expenditure",-1),Za=o("div",{class:"text-h6"},"Loans",-1),er=o("p",null,"Loans that will be paid back at the refinance stage. Same loans are used for best and worst calculations",-1),tr=o("div",null,"\xA0",-1),ar={class:"col-grow"},rr=o("p",null,"Fixed return loans",-1),sr=o("div",{class:"text-h6"},"Mortgage",-1),nr={key:0},ir=o("div",{class:"text-h6"},"Bridge",-1),or={key:0},lr=o("div",null,"The maximum bridge amount is typically 65% of the purchase price.",-1),ur={class:"row"},mr={class:"bridgeamountdiv"},dr=o("div",null,"Worst bridge amount",-1),cr={class:"bridgeamountdiv"},hr=o("div",null,"Best bridge amount",-1),fr=o("div",{class:"text-h6"},"Cash",-1),vr=o("div",null,"This calculation will assume that all money not provided for loans or bridges will be provided by investors as cash.",-1),gr={class:"text-h6"};function pr(e,a,l,s,t,u){return v(),ee(se,{inline:"",class:"q-ma-sm card-style"},{default:p(()=>[h($,null,{default:p(()=>[Ya,Ha]),_:1}),h($,null,{default:p(()=>[Ja,L(" "+c(e.format_currency(e.totalexpenditure.max))+" - "+c(e.format_currency(e.totalexpenditure.min))+" (Worst - best) ",1)]),_:1}),h($,null,{default:p(()=>[Za,er,o("div",null,[(v(!0),b(pe,null,qe(e.loans,r=>(v(),b("div",{key:r.id,class:"row"},[o("div",null," Loan "+c(r.id),1),tr,o("div",null,[L(" Rate: "+c(r.rate)+"% ",1),h(ge,{modelValue:r.rate,"onUpdate:modelValue":m=>r.rate=m,modelModifiers:{number:!0},type:"number",filled:"",style:{"max-width":"70px"}},null,8,["modelValue","onUpdate:modelValue"])]),o("div",ar,[L(" Amount: "+c(e.format_currency(r.amount)),1),h(fe,{label:"","label-value":e.format_currency(r.amount),modelValue:r.amount,"onUpdate:modelValue":m=>r.amount=m,min:0,max:e.maxloan.worst,"thumb-size":"40px",step:5e3},null,8,["label-value","modelValue","onUpdate:modelValue","max"])]),h(re,{round:"",icon:"delete",onClick:m=>e.delloan(r.id)},null,8,["onClick"])]))),128))]),h(re,{round:"",color:"primary",icon:"add",onClick:e.addloan},null,8,["onClick"]),rr]),_:1}),h($,null,{default:p(()=>[sr,h(ae,{modelValue:e.mortgage.usemortgage,"onUpdate:modelValue":[a[0]||(a[0]=r=>e.mortgage.usemortgage=r),e.updatemortgagetoggle],label:"Buy with Mortgage"},null,8,["modelValue","onUpdate:modelValue"]),e.mortgage.usemortgage?(v(),b("div",nr,[L(" Rate: "+c(e.mortgage.rate.min)+"% - "+c(e.mortgage.rate.max)+"%",1),h(de,{modelValue:e.mortgage.rate,"onUpdate:modelValue":a[1]||(a[1]=r=>e.mortgage.rate=r),min:0,max:10,step:.1,"thumb-size":"40px","drag-range":"",label:"",snap:"","left-label-value":"Best "+e.mortgage.rate.min+"%","right-label-value":"Worst "+e.mortgage.rate.max+"%"},null,8,["modelValue","left-label-value","right-label-value"]),L(" LTV: "+c(e.mortgage.ltv.min)+"% - "+c(e.mortgage.ltv.max)+"%",1),h(de,{modelValue:e.mortgage.ltv,"onUpdate:modelValue":a[2]||(a[2]=r=>e.mortgage.ltv=r),min:0,max:100,step:1,"thumb-size":"40px","drag-range":"",label:"",snap:"","left-label-value":"Best "+e.mortgage.ltv.min+"%","right-label-value":"Worst "+e.mortgage.ltv.max+"%"},null,8,["modelValue","left-label-value","right-label-value"]),L(" This is based on a repayment mortgage. "),o("div",null,"Amount Borrowed: "+c(e.format_currency(e.mortgage_amount_borrowed.worst))+" - "+c(e.format_currency(e.mortgage_amount_borrowed.best)),1),o("div",null,"Monthly Repayments: "+c(e.format_currency(e.mortgage_monthly_payment.worst))+" - "+c(e.format_currency(e.mortgage_monthly_payment.best)),1),o("div",null,"Arrangement Fee: "+c(e.format_currency(e.mortgage.arrangementfee)),1)])):w("",!0)]),_:1}),h($,null,{default:p(()=>[ir,h(ae,{modelValue:e.bridge.usebridge,"onUpdate:modelValue":[a[3]||(a[3]=r=>e.bridge.usebridge=r),e.updatebridgetoggle],label:"Use a bridge"},null,8,["modelValue","onUpdate:modelValue"]),e.bridge.usebridge?(v(),b("div",or,[o("div",null,"Start cost/End Cost: "+c(e.bridge.startcost*100)+"%/"+c(e.bridge.endcost*100)+"%",1),o("div",null,"Monthly cost: "+c(e.bridge.monthlycost*100)+"%",1),o("div",null,"Months cost paid upfront: "+c(e.bridgemontghsupfront.min)+" - "+c(e.bridgemontghsupfront.max),1),lr,o("div",ur,[o("div",mr,[dr,h(fe,{label:"",modelValue:e.bridge.amount.worst,"onUpdate:modelValue":a[4]||(a[4]=r=>e.bridge.amount.worst=r),min:0,max:e.maxbridge.worst,step:5e3,"thumb-size":"40px"},null,8,["modelValue","max"]),o("div",null,"Amount: "+c(e.format_currency(e.bridge.amount.worst)),1),o("div",null,"% purchase: "+c(e.format_percent(e.bridge.amount.worst/e.purchaserange.max)),1),o("div",null,"Cost: "+c(e.format_currency(e.bridgecost.worst)),1)]),o("div",cr,[hr,h(fe,{label:"",modelValue:e.bridge.amount.best,"onUpdate:modelValue":a[5]||(a[5]=r=>e.bridge.amount.best=r),min:0,max:e.maxbridge.best,step:5e3,"thumb-size":"40px"},null,8,["modelValue","max"]),o("div",null,"Amount: "+c(e.format_currency(e.bridge.amount.best)),1),o("div",null,"% purchase: "+c(e.format_percent(e.bridge.amount.best/e.purchaserange.min)),1),o("div",null,"Cost: "+c(e.format_currency(e.bridgecost.best)),1)])])])):w("",!0)]),_:1}),h($,null,{default:p(()=>[fr,L(" Cash is the money the investors put into the deal. It is free money as there is no interest payments for this money. "),vr,o("div",gr,c(e.format_currency(e.totalmoneyneeded.worst))+" - "+c(e.format_currency(e.totalmoneyneeded.best))+" (Worst - best) ",1)]),_:1})]),_:1})}var rs=K(Ka,[["render",pr]]);const br=X({name:"InvalidMessage",props:["is_valid_input"],data(){return{}}}),_r={key:0,class:"invalidmessage col-grow"};function yr(e,a,l,s,t,u){return e.is_valid_input?w("",!0):(v(),b("div",_r,[h(Pt,{name:"warning"}),L("Warning: Invalid input data! ")]))}var wr=K(br,[["render",yr]]);function Re({items:e}){e.push({type:"blank",key:e.length})}function Fe(e,a,l,s){e.push({type:"total",key:e.length,name:a,worst:l,best:s})}function Z(e,a,l,s){e.push({type:"ledger",key:e.length,name:a,worst:l,best:s})}function et(e,a,l,s){e.push({type:"note",key:e.length,name:a,worst:l,best:s})}const xr=X({name:"FlipCalcDealRating",props:["is_valid_input","purchaserange","finance_in_items_without_cash","purchase_items","stampduty_items","othercosts_items","refurb_cost_items","gdv_total","refurbmonths","finance_out_items","finance_during_items"],components:{FeatureTable:At,InvalidMessage:wr},data(){return{}},methods:{format_currency(e){return typeof e=="string"&&e===""?"":W.format_currency(e)},helpcorporation(){this.$q.dialog({title:"Corporation Tax",message:'Corporation tax will depend on if buying in a company or as an individual. It also depends on the total profit of the company (See <a href="https://www.gov.uk/government/publications/rates-and-allowances-corporation-tax/rates-and-allowances-corporation-tax" target="_new">this website</a>). For this calculation we assume 19%.',html:!0}).onOk(()=>{})}},computed:{finance_costs(){var e={worst:0,best:0};function a(l,s){l.worst+=s.worst,l.best+=s.best}return typeof this.finance_in_items_without_cash!="undefined"&&this.finance_in_items_without_cash.map(function(l){a(e,l)}),typeof this.finance_during_items!="undefined"&&this.finance_during_items.map(function(l){a(e,l)}),typeof this.finance_out_items!="undefined"&&this.finance_out_items.map(function(l){a(e,l)}),{worst:e.worst,best:e.best}},itemized_summary(){var e=[],a={worst:0,best:0};function l(f,M){f.worst+=M.worst,f.best+=M.best}typeof this.purchase_items!="undefined"&&this.purchase_items.map(function(f){Z(e,f.name,-f.worst,-f.best),l(a,f)}),typeof this.stampduty_items!="undefined"&&this.stampduty_items.map(function(f){Z(e,f.name,-f.worst,-f.best),l(a,f)}),typeof this.othercosts_items!="undefined"&&this.othercosts_items.map(function(f){Z(e,f.name,-f.worst,-f.best),l(a,f)}),typeof this.refurb_cost_items!="undefined"&&this.refurb_cost_items.map(function(f){Z(e,f.name,-f.worst,-f.best),l(a,f)}),Z(e,"Finance Costs",-this.finance_costs.worst,-this.finance_costs.best),l(a,this.finance_costs),Fe(e,"Total Money In",-a.worst,-a.best),Re({items:e}),Z(e,"GDV",this.gdv_total.min,this.gdv_total.max);var s={worst:this.gdv_total.min*.01,best:this.gdv_total.max*.01};Z(e,"Sale Costs (1%)",s.worst,s.best);var t={worst:this.gdv_total.min-(-a.worst+s.worst),best:this.gdv_total.max-(-a.best+s.best)};Fe(e,"Gross Profit",t.worst,t.best);var u={worst:t.worst*100/-a.worst,best:t.best*100/-a.best};et(e,"Percentage",u.worst.toFixed(2)+"%",u.best.toFixed(2)+"%"),Re({items:e});var r={worst:t.worst*.19,best:t.best*.19};Z(e,"Corporation Tax",r.worst,r.best);var m={worst:t.worst-r.worst,best:t.best-r.best};Fe(e,"Net Profit",m.worst,m.best);var n={worst:m.worst*100/-a.worst,best:m.best*100/-a.best};return et(e,"Percentage",n.worst.toFixed(2)+"%",n.best.toFixed(2)+"%"),Re({items:e}),{items:e,percentage:n}},features(){var e=[],a=Math.min(this.itemized_summary.percentage.best,this.itemized_summary.percentage.worst);return a<20?e.push({type:"negative",text:"Less than 20% uplift. To justify the work in doing the flip we need the deal to make at least 20%"}):a<25?e.push({type:"neutral",text:"Between 20% and 25% uplift. This is borderline. To justify the work and account for risk we would prefer at least 23%"}):e.push({type:"positive",text:"Above 25% uplift. This project has enough uplift to justify the effort and risk."}),e}}}),kr=o("div",{class:"text-h6"},"Flip Deal Rating",-1),Cr=o("div",{class:"text-subtitle2"},"This section gives a rating for this flip deal.",-1),$r={class:"sumtable"},Mr=o("thead",null,[o("tr",null,[o("th",{class:"text-left sumtablecell"}),o("th",{class:"text-center sumtablecell worstcasetablecell"},"Worst case"),o("th",{class:"text-center sumtablecell"},"Best case")])],-1),Vr={key:0,class:"text-left sumtablecell"},Tr={key:1,class:"text-left sumtablecell worstcasetablecell"},Sr={key:2,class:"text-left sumtablecell"},Rr={key:3,colspan:"3",class:"text-left sumtablecell sumtabletitlecell"},Fr={key:4,class:"text-left sumtablecell"},Br={key:5,class:"text-right sumtablecell worstcasetablecell"},Lr={key:6,class:"text-right sumtablecell"},jr={key:7,class:"text-left sumtablecell"},qr={key:8,class:"text-right sumtablecell worstcasetablecell"},Ir={key:9,class:"text-right sumtablecell"},zr={key:10,class:"text-left sumtablecell"},Er={key:11,class:"text-right sumtablecell worstcasetablecell"},Pr={key:12,class:"text-right sumtablecell"},Dr={key:13,class:"text-left sumtablecell"},Nr={key:14,class:"text-right sumtablecell worstcasetablecell"},Ur={key:15,class:"text-right sumtablecell"},Ar=o("div",{class:"text-h6"},"Flip Project Features",-1);function Or(e,a,l,s,t,u){const r=me("InvalidMessage"),m=me("FeatureTable");return v(),ee(se,{inline:"",class:"q-ma-sm card-style maincard col-grow"},{default:p(()=>[h($,null,{default:p(()=>[kr,Cr]),_:1}),h($,null,{default:p(()=>[o("div",null,[h(r,{is_valid_input:e.is_valid_input},null,8,["is_valid_input"]),o("table",$r,[Mr,o("tbody",null,[(v(!0),b(pe,null,qe(e.itemized_summary.items,n=>(v(),b("tr",{key:n.id},[n.type=="blank"?(v(),b("td",Vr,"\xA0")):w("",!0),n.type=="blank"?(v(),b("td",Tr,"\xA0")):w("",!0),n.type=="blank"?(v(),b("td",Sr,"\xA0")):w("",!0),n.type=="title"?(v(),b("td",Rr,c(n.name),1)):w("",!0),n.type=="ledger"?(v(),b("td",Fr,c(n.name),1)):w("",!0),n.type=="ledger"?(v(),b("td",Br,c(e.format_currency(n.worst)),1)):w("",!0),n.type=="ledger"?(v(),b("td",Lr,c(e.format_currency(n.best)),1)):w("",!0),n.type=="note"?(v(),b("td",jr,c(n.name),1)):w("",!0),n.type=="note"?(v(),b("td",qr,c(n.worst),1)):w("",!0),n.type=="note"?(v(),b("td",Ir,c(n.best),1)):w("",!0),n.type=="total"?(v(),b("th",zr,c(n.name),1)):w("",!0),n.type=="total"?(v(),b("th",Er,c(e.format_currency(n.worst)),1)):w("",!0),n.type=="total"?(v(),b("th",Pr,c(e.format_currency(n.best)),1)):w("",!0),n.type=="headtext"?(v(),b("th",Dr,c(n.name),1)):w("",!0),n.type=="headtext"?(v(),b("th",Nr,c(n.worst),1)):w("",!0),n.type=="headtext"?(v(),b("th",Ur,c(n.best),1)):w("",!0)]))),128))])]),o("div",null,[L("Note: Corporation tax is assumed at 19%"),h(re,{round:"",dense:"",flat:"",icon:"info",onClick:e.helpcorporation},null,8,["onClick"])]),Ar,h(m,{features:e.features,"onUpdate:features":a[0]||(a[0]=n=>e.features=n)},null,8,["features"])])]),_:1})]),_:1})}var ss=K(xr,[["render",Or]]);export{ss as D,rs as F,Jr as G,wr as I,as as O,Zr as P,es as R,Ee as S,ts as a};
