import{g as P,j as p,k as h,m as x,aW as y,q as b,u as Q,aj as j}from"./index.9a2f1438.js";import{Q as k}from"./QMenu.4f7185d1.js";import{u as C,c as M}from"./position-engine.c106b2c2.js";var H=P({name:"QPopupProxy",props:{...C,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(n,{slots:g,emit:c,attrs:v}){const{proxy:u}=Q(),{$q:l}=u,a=p(!1),t=p(null),i=h(()=>parseInt(n.breakpoint,10)),{canShow:f}=M({showing:a});function r(){return l.screen.width<i.value||l.screen.height<i.value?"dialog":"menu"}const o=p(r()),m=h(()=>o.value==="menu"?{maxHeight:"99vh"}:{});x(()=>r(),e=>{a.value!==!0&&(o.value=e)});function d(e){a.value=!0,c("show",e)}function w(e){a.value=!1,o.value=r(),c("hide",e)}return Object.assign(u,{show(e){f(e)===!0&&t.value.show(e)},hide(e){t.value.hide(e)},toggle(e){t.value.toggle(e)}}),y(u,"currentComponent",()=>({type:o.value,ref:t.value})),()=>{const e={ref:t,...m.value,...v,onShow:d,onHide:w};let s;return o.value==="dialog"?s=j:(s=k,Object.assign(e,{target:n.target,contextMenu:n.contextMenu,noParentEvent:!0,separateClosePopup:!0})),b(s,e,g.default)}}});export{H as Q};
