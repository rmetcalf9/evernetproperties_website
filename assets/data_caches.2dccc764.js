import{a2 as o}from"./index.472d76b1.js";const e={projects:{url:"/projects",getOnSaveCacheInvalidationList:l},patches:{url:"/patches"},patchagents:{url:"/patchagents"}};function l(t){return[{object_type:"patches",object_id:t.patch_id}]}function h(){let t={};return Object.keys(e).map(function(a){t[a]={}}),t}const f=o("dataCachesStore",{state:()=>({cache_data:h()}),getters:{},actions:{reset(){this.cache_data=h()},invalidate({object_type:t,object_id:a}){if(!Object.hasOwn(e,t)){console.log("Warning - invalid object type in invalidate message",t);return}!Object.hasOwn(this.cache_data[t],a)||delete this.cache_data[t][a]},save({backend_connection_store:t,object_type:a,object_data:r,callback:d}){const i=this;if(!Object.hasOwn(e,a)){d.error("Tried to save invalid object type "+a);return}const s={ok:function(c){i.cache_data[a][c.data.id]=c.data,d.ok(c)},error:d.error};typeof e[a].getOnSaveCacheInvalidationList!="undefined"&&e[a].getOnSaveCacheInvalidationList(r).forEach(function(n){i.invalidate(n)}),t.call_api({apiprefix:"privateUserAPIPrefix",url:e[a].url,method:"POST",data:r,callback:s})},get({backend_connection_store:t,object_type:a,object_id:r,skip_cache:d,callback:i}){if(!Object.hasOwn(e,a)){i.error("Tried to load invalid object type "+a);return}const s=this;if(!d&&Object.hasOwn(s.cache_data[a],r)){const n={data:s.cache_data[a][r]};i.ok(n);return}const c={ok:function(n){s.cache_data[a][n.data.id]=n.data,i.ok(n)},error:i.error};t.call_api({apiprefix:"privateUserAPIPrefix",url:e[a].url+"/"+r,method:"GET",data:void 0,callback:c})},get_direct_from_cache({object_type:t,object_id:a}){if(!!Object.hasOwn(e,t))return this.cache_data[t][a]}}});export{f as u};
