import{a2 as h}from"./index.62be765b.js";const e={projects:{url:"/projects",getOnSaveCacheInvalidationList:l},patches:{url:"/patches"}};function l(t){return[{object_type:"patches",object_id:t.patch_id}]}function o(){let t={};return Object.keys(e).map(function(a){t[a]={}}),t}const u=h("dataCachesStore",{state:()=>({cache_data:o()}),getters:{},actions:{reset(){this.cache_data=o()},invalidate({object_type:t,object_id:a}){if(!Object.hasOwn(e,t)){console.log("Warning - invalid object type in invalidate message",t);return}!Object.hasOwn(this.cache_data[t],a)||delete this.cache_data[t][a]},save({backend_connection_store:t,object_type:a,object_data:r,callback:s}){const i=this;if(!Object.hasOwn(e,a)){s.error("Tried to save invalid object type "+a);return}const d={ok:function(c){i.cache_data[a][c.data.id]=c.data,s.ok(c)},error:s.error};typeof e[a].getOnSaveCacheInvalidationList!="undefined"&&e[a].getOnSaveCacheInvalidationList(r).forEach(function(n){i.invalidate(n)}),t.call_api({apiprefix:"privateUserAPIPrefix",url:e[a].url,method:"POST",data:r,callback:d})},get({backend_connection_store:t,object_type:a,object_id:r,skip_cache:s,callback:i}){if(!Object.hasOwn(e,a)){i.error("Tried to save invalid object type "+a);return}const d=this;if(!s&&Object.hasOwn(d.cache_data[a],r)){const n={data:d.cache_data[a][r]};i.ok(n);return}const c={ok:function(n){d.cache_data[a][n.data.id]=n.data,i.ok(n)},error:i.error};t.call_api({apiprefix:"privateUserAPIPrefix",url:e[a].url+"/"+r,method:"GET",data:void 0,callback:c})}}});export{u};
