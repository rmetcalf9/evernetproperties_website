import{_ as M,d as k,N as w,r as T,o as i,c as H,w as n,e as o,a as l,ag as d,f,af as h,a8 as v,a9 as b,K as m,M as O,ar as p,au as U,t as u,L as x}from"./index.152c68fe.js";import{Q as S}from"./QPage.452239c0.js";import{u as C}from"./utils.b0f5af30.js";import{F}from"./FeatureTable.6bd7965f.js";function V(){return{id:C.uuidv4(),price:"200000",rooms:6,use:!0}}const N=k({name:"HmoCommercialValuationCalc",components:{FeatureTable:F},data(){return{isMounted:!1,general_area:{room_rate:500,cost_percentage:25},comps:[V()],curhmo:{rooms:5,cost_percentage:25}}},methods:{format_currency(e){return C.format_currency(e)},format_percent(e){return C.format_percent(e)},helpareacostpercentage(){this.$q.dialog({title:"Cost Percentage",message:"The cost percentage is the percentage of the rent that will be allowed to account for running costs of the HMO. (Such as Bills, Maintenance, etc.) Typically a figure of 25% is used, but sometimes 35% if a building is high maintenance. Note: Mortgage payments are NOT included.",html:!0}).onOk(()=>{})},addcomp(){this.comps.push(V())},delcomp(e){if(this.comps.length<2)return;if(e.use&&this.used_comps.length<2){w.create({color:"bg-grey-2",message:"Must use at least one comparable",timeout:2e3});return}const t=this.comps.filter(function(r){return e.id!==r.id});this.comps=t},getannualrent(e){return e.rooms*12*this.general_area.room_rate},getannualyield(e){return e.price/(this.getannualrent(e)*(100-this.general_area.cost_percentage))},updateitemuse(e){e.use||this.used_comps.length<1&&(this._forceuseditem(e.id),w.create({color:"bg-grey-2",message:"Must use at least one comparable",timeout:2e3}))},_forceuseditem(e){let t=this.comps.filter(function(r){return r.id===e});if(t.length!==1){console.log("Error item id not found");return}t[0].use=!0}},computed:{comps_tbl(){let e=[];return this.comps.forEach(function(t){e.push({id:t.id,item:t,row_type:"row"}),e.push({id:t.id,item:t,row_type:"subrow"})}),e},hmo_annual_rent(){return this.curhmo.rooms*12*this.general_area.room_rate},used_comps(){return this.comps.filter(function(e){return e.use})},min_yield(){const e=this;return this.used_comps.reduce(function(t,r){const s=e.getannualyield(r);return s<t?s:t},99999999)},avg_yield(){const e=this;return this.used_comps.reduce(function(t,r){return t+e.getannualyield(r)},0)/this.used_comps.length},max_yield(){const e=this;return this.used_comps.reduce(function(t,r){const s=e.getannualyield(r);return s>t?s:t},-99999999)},min_val(){return this.hmo_annual_rent*(100-this.curhmo.cost_percentage)*this.min_yield},avg_val(){return this.hmo_annual_rent*(100-this.curhmo.cost_percentage)*this.avg_yield},max_val(){return this.hmo_annual_rent*(100-this.curhmo.cost_percentage)*this.max_yield},features(){const e=this;let t=[];this.curhmo.rooms<5&&t.push({type:"negative",text:"Less than 5 rooms - check with lender to confirm a commercial valuation is available"}),this.curhmo.cost_percentage<20&&t.push({type:"neutral",text:"Cost percentage less than 20% - is this realistic?"}),this.used_comps.reduce(function(_,g){return g.rooms<5?!0:_},!1)&&t.push({type:"negative",text:"Comparable with less than 5 rooms - may not be valid"}),this.used_comps.length<3&&t.push({type:"negative",text:"Compared with less than 3 other properties"});const s=this.used_comps.reduce(function(_,g){const y=Math.abs(g.rooms-e.curhmo.rooms);return y>_?y:_},0);return s>2&&(s>3?t.push({type:"negative",text:"Compared with properties of significantly different size"}):t.push({type:"neutral",text:"Compared with properties of different size"})),t}},mounted(){const e=this;setTimeout(function(){e.isMounted=!0},5)}}),Q={class:"HmoCommercialValuationCalc-main-page fit col wrap justify-center items-center content-center"},$=o("h1",null,"HMO Commercial Valuation Calculator",-1),B=o("div",null,"This calculator will help you estimate a commercial valuation on a HMO based on existing properties in the area. To use it fill in general information about the area, then list comparable HMO\u2019s in the area. Finally enter details about the HMO you are looking at and the final card will show an estimated valuation.",-1),R={class:"row"},q=o("div",{class:"text-h6"},"General Area Information",-1),A=o("div",{class:"text-h6"},"HMO Comparables",-1),z=o("div",null,"Find examples of HMO\u2019s that have sold in the area. You can do this by:",-1),E=o("ul",null,[o("li",null,"Speaking to agents in the area and asking about HMO prices"),o("li",null,"Speaking to HMO letting agents and finding out about HMO prices in the area"),o("li",null,"Go to the council website for the HMO register; going through the addresses and looking at sold prices on rightmove for those addresses"),o("li",null,[f("Go through Dealsourcr deals for this area (e.g. for Middlesbrough the link is "),o("a",{href:"https://dealsourcr.com/deal-search/hmos-in-middlesbrough",target:"_blank"},"https://dealsourcr.com/deal-search/hmos-in-middlesbrough"),f(")")])],-1),P=o("div",null,"Once you have a few examples, enter them here. The most relevant prices are the ones with a similar size to the one you are looking at.",-1),G={class:"HmoCommercialValuationCalc-comptable"},I=o("thead",null,[o("tr",null,[o("th",{class:""},"Price"),o("th",{class:""},"# Rooms"),o("th",{class:""},"Use?"),o("th",{class:""})])],-1),L={key:0},D={key:1},Y={key:2},j={key:3},K={key:0},J={key:4,colspan:"4"},W=o("div",{class:"text-h6"},"HMO Information",-1),X=o("div",null,"Fill this section with information about the HMO you are valuing:",-1),Z=o("div",{class:"text-h6"},"Valuation",-1),ee=o("div",null,"The following shows the estimated value and yields:",-1),te={class:"HmoCommercialValuationCalc-final-totals"};function oe(e,t,r,s,_,g){const y=T("FeatureTable");return i(),H(S,{class:"flex"},{default:n(()=>[o("div",Q,[$,B,o("div",R,[l(b,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(d,null,{default:n(()=>[q]),_:1}),l(d,null,{default:n(()=>[f(" Average Ensuite Monthly Room Rate (\xA3): "),l(h,{modelValue:e.general_area.room_rate,"onUpdate:modelValue":t[0]||(t[0]=a=>e.general_area.room_rate=a),modelModifiers:{number:!0},type:"number",step:25,filled:"",style:{"max-width":"110px"}},null,8,["modelValue"]),f(" Cost Percentage (%): "),l(v,{round:"",dense:"",flat:"",icon:"info",onClick:e.helpareacostpercentage},null,8,["onClick"]),l(h,{modelValue:e.general_area.cost_percentage,"onUpdate:modelValue":t[1]||(t[1]=a=>e.general_area.cost_percentage=a),modelModifiers:{number:!0},type:"number",step:1,min:10,max:50,rules:[a=>a<=50||"Should be less than 50%",a=>a>=10||"Should be more than 10%"],filled:"",style:{"max-width":"110px"}},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(b,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(d,null,{default:n(()=>[A]),_:1}),l(d,null,{default:n(()=>[z,E,P,o("table",G,[I,o("tbody",null,[(i(!0),m(x,null,O(e.comps_tbl,a=>(i(),m("tr",{key:a.id},[a.row_type==="row"?(i(),m("td",L,[l(h,{modelValue:a.item.price,"onUpdate:modelValue":c=>a.item.price=c,modelModifiers:{number:!0},type:"number",step:5e3,filled:"",style:{"max-width":"110px"}},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),a.row_type==="row"?(i(),m("td",D,[l(h,{modelValue:a.item.rooms,"onUpdate:modelValue":c=>a.item.rooms=c,modelModifiers:{number:!0},type:"number",step:1,min:1,max:50,filled:"",style:{"max-width":"70px"}},null,8,["modelValue","onUpdate:modelValue"])])):p("",!0),a.row_type==="row"?(i(),m("td",Y,[o("div",null,[l(U,{modelValue:a.item.use,"onUpdate:modelValue":[c=>a.item.use=c,c=>e.updateitemuse(a)],label:""},null,8,["modelValue","onUpdate:modelValue"])])])):p("",!0),a.row_type==="row"?(i(),m("td",j,[e.comps.length>1?(i(),m("div",K,[l(v,{round:"",color:"primary",icon:"delete",onClick:c=>e.delcomp(a.item)},null,8,["onClick"])])):p("",!0)])):p("",!0),a.row_type==="subrow"?(i(),m("td",J,[o("div",null,[o("div",null,"Annual Rent: "+u(e.format_currency(e.getannualrent(a.item))),1),o("div",null,"Yield: "+u(e.format_percent(e.getannualyield(a.item))),1)])])):p("",!0)]))),128))])]),l(v,{round:"",color:"primary",icon:"add",onClick:e.addcomp},null,8,["onClick"])]),_:1})]),_:1}),l(b,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(d,null,{default:n(()=>[W]),_:1}),l(d,null,{default:n(()=>[X,f(" Rooms: "),l(h,{modelValue:e.curhmo.rooms,"onUpdate:modelValue":t[2]||(t[2]=a=>e.curhmo.rooms=a),modelModifiers:{number:!0},type:"number",step:1,min:1,max:50,filled:"",style:{"max-width":"70px"}},null,8,["modelValue"]),o("div",null," Our Annual Rent: "+u(e.format_currency(e.hmo_annual_rent)),1),f(" Cost percentage: "),l(v,{round:"",dense:"",flat:"",icon:"info",onClick:e.helpareacostpercentage},null,8,["onClick"]),l(h,{modelValue:e.curhmo.cost_percentage,"onUpdate:modelValue":t[3]||(t[3]=a=>e.curhmo.cost_percentage=a),modelModifiers:{number:!0},type:"number",step:1,min:10,max:50,rules:[a=>a<=50||"Should be less than 50%",a=>a>=10||"Should be more than 10%"],filled:"",style:{"max-width":"110px"}},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(b,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(d,null,{default:n(()=>[Z]),_:1}),l(d,null,{default:n(()=>[ee,o("div",te,[o("div",null,"Min: "+u(e.format_currency(e.min_val))+" ("+u(e.format_percent(e.min_yield))+")",1),o("div",null,"Avg: "+u(e.format_currency(e.avg_val))+" ("+u(e.format_percent(e.avg_yield))+")",1),o("div",null,"Max: "+u(e.format_currency(e.max_val))+" ("+u(e.format_percent(e.max_yield))+")",1)]),l(y,{features:e.features,"onUpdate:features":t[4]||(t[4]=a=>e.features=a)},null,8,["features"])]),_:1})]),_:1})])])]),_:1})}var se=M(N,[["render",oe]]);export{se as default};
