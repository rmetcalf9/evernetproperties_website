import{_ as T,d as H,N as C,r as O,o as r,c as S,w as n,e as t,a as l,ae as u,f as h,af as p,Q as b,aa as g,K as d,O as w,L as f,ag as U,t as i,M as V}from"./index.62be765b.js";import{Q as F}from"./QPage.bb8847af.js";import{u as k}from"./utils.99aafcb0.js";import{F as N}from"./FeatureTable.b16e078a.js";import{u as Q}from"./uuid.6153c38a.js";function M(){return{id:Q(),price:"200000",rooms:6,use:!0}}const R=H({name:"HmoCommercialValuationCalc",components:{FeatureTable:N},data(){return{range_valuation_values:[.09,.1,.11,.12],isMounted:!1,general_area:{room_rate:500,cost_percentage:25},comps:[M()],curhmo:{rooms:5,cost_percentage:25}}},methods:{format_currency(e){return k.format_currency(e)},format_percent(e){return k.format_percent(e)},helpareacostpercentage(){this.$q.dialog({title:"Cost Percentage",message:"The cost percentage is the percentage of the rent that will be allowed to account for running costs of the HMO. (Such as Bills, Maintenance, etc.) Typically a figure of 25% is used, but sometimes 35% if a building is high maintenance. Note: Mortgage payments are NOT included.",html:!0}).onOk(()=>{})},addcomp(){this.comps.push(M())},delcomp(e){if(this.comps.length<2)return;if(e.use&&this.used_comps.length<2){C.create({color:"bg-grey-2",message:"Must use at least one comparable",timeout:2e3});return}const o=this.comps.filter(function(s){return e.id!==s.id});this.comps=o},getannualrent(e){return e.rooms*12*this.general_area.room_rate},getannualyield(e){return this.getannualrent(e)*((100-this.general_area.cost_percentage)/100)/e.price},updateitemuse(e){e.use||this.used_comps.length<1&&(this._forceuseditem(e.id),C.create({color:"bg-grey-2",message:"Must use at least one comparable",timeout:2e3}))},_forceuseditem(e){let o=this.comps.filter(function(s){return s.id===e});if(o.length!==1){console.log("Error item id not found");return}o[0].use=!0},this_prop_val(e){return this.hmo_annual_rent*((100-this.curhmo.cost_percentage)/100)/e}},computed:{comps_tbl(){let e=[];return this.comps.forEach(function(o){e.push({id:o.id,item:o,row_type:"row"}),e.push({id:o.id,item:o,row_type:"subrow"})}),e},hmo_annual_rent(){return this.curhmo.rooms*12*this.general_area.room_rate},used_comps(){return this.comps.filter(function(e){return e.use})},min_yield(){const e=this;return this.used_comps.reduce(function(o,s){const m=e.getannualyield(s);return m<o?m:o},99999999)},avg_yield(){const e=this;return this.used_comps.reduce(function(o,s){return o+e.getannualyield(s)},0)/this.used_comps.length},max_yield(){const e=this;return this.used_comps.reduce(function(o,s){const m=e.getannualyield(s);return m>o?m:o},-99999999)},min_val(){return this.this_prop_val(this.max_yield)},avg_val(){return this.this_prop_val(this.avg_yield)},max_val(){return this.this_prop_val(this.min_yield)},features(){const e=this;let o=[];this.curhmo.rooms<5&&o.push({type:"negative",text:"Less than 5 rooms - check with lender to confirm a commercial valuation is available"}),this.curhmo.cost_percentage<20&&o.push({type:"neutral",text:"Cost percentage less than 20% - is this realistic?"}),this.used_comps.reduce(function(_,y){return y.rooms<5?!0:_},!1)&&o.push({type:"negative",text:"Comparable with less than 5 rooms - may not be valid"}),this.used_comps.length<3&&o.push({type:"negative",text:"Compared with less than 3 other properties"});const m=this.used_comps.reduce(function(_,y){const v=Math.abs(y.rooms-e.curhmo.rooms);return v>_?v:_},0);return m>2&&(m>3?o.push({type:"negative",text:"Compared with properties of significantly different size"}):o.push({type:"neutral",text:"Compared with properties of different size"})),o}},mounted(){const e=this;setTimeout(function(){e.isMounted=!0},5)}}),$={class:"HmoCommercialValuationCalc-main-page fit col wrap justify-center items-center content-center"},q=t("h1",null,"HMO Commercial Valuation Calculator",-1),x=t("div",null,"This calculator will help you estimate a commercial valuation on a HMO based on existing properties in the area. To use it fill in general information about the area, then list comparable HMO\u2019s in the area. Finally enter details about the HMO you are looking at and the final card will show an estimated valuation. These figures are for guidance only. During the due diligence process investors should consult brokers and get more specific estimates.",-1),B=t("div",null,[t("b",null,"Market rent vs Passing Rent -"),h(" Passing rent is the actual rental income received from a property. Sometimes valuers will ignore this and will instead do the valuation on market rent. So it is best to estimate valuation against market rent and ignore the actual rent received.")],-1),P={class:"row"},A=t("div",{class:"text-h6"},"General Area Information",-1),z=t("div",{class:"text-h6"},"HMO Comparables",-1),E=t("div",null,"Find examples of HMO\u2019s that have sold in the area. You can do this by:",-1),D=t("ul",null,[t("li",null,"Speaking to agents in the area and asking about HMO prices"),t("li",null,"Speaking to HMO letting agents and finding out about HMO prices in the area"),t("li",null,"Go to the council website for the HMO register; going through the addresses and looking at sold prices on rightmove for those addresses"),t("li",null,[h("Go through Dealsourcr deals for this area (e.g. for Middlesbrough the link is "),t("a",{href:"https://dealsourcr.com/deal-search/hmos-in-middlesbrough",target:"_blank"},"https://dealsourcr.com/deal-search/hmos-in-middlesbrough"),h(")")])],-1),G=t("div",null,"Once you have a few examples, enter them here. The most relevant prices are the ones with a similar size to the one you are looking at.",-1),I={class:"HmoCommercialValuationCalc-comptable"},L=t("thead",null,[t("tr",null,[t("th",{class:""},"Price"),t("th",{class:""},"# Rooms"),t("th",{class:""},"Use?"),t("th",{class:""})])],-1),Y={key:0},j={key:1},K={key:2},J={key:3},W={key:0},X={key:4,colspan:"4"},Z=t("div",{class:"text-h6"},"HMO Information",-1),ee=t("div",null,"Fill this section with information about the HMO you are valuing:",-1),te=t("div",{class:"text-h6"},"Valuation",-1),ae=t("div",null,"The following shows the estimated value and yields:",-1),oe={class:"HmoCommercialValuationCalc-final-totals"},le=t("div",{class:"text-h6"},"Range Valuation",-1),ne=t("div",null,"Yields can vary between 9% and 12%. Sometimes it is hard to work out the yield even when you use this method so it is useful to know the valuation on a range of yields and ensure the project stacks in every case.",-1),se={class:"HmoCommercialValuationCalc-final-totals"};function re(e,o,s,m,_,y){const v=O("FeatureTable");return r(),S(F,{class:"flex"},{default:n(()=>[t("div",$,[q,x,B,t("div",P,[l(g,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(u,null,{default:n(()=>[A]),_:1}),l(u,null,{default:n(()=>[h(" Average Ensuite Monthly Room Rate (\xA3): "),l(p,{modelValue:e.general_area.room_rate,"onUpdate:modelValue":o[0]||(o[0]=a=>e.general_area.room_rate=a),modelModifiers:{number:!0},type:"number",step:25,filled:"",style:{"max-width":"110px"}},null,8,["modelValue"]),h(" Cost Percentage (%): "),l(b,{round:"",dense:"",flat:"",icon:"info",onClick:e.helpareacostpercentage},null,8,["onClick"]),l(p,{modelValue:e.general_area.cost_percentage,"onUpdate:modelValue":o[1]||(o[1]=a=>e.general_area.cost_percentage=a),modelModifiers:{number:!0},type:"number",step:1,min:10,max:50,rules:[a=>a<=50||"Should be less than 50%",a=>a>=10||"Should be more than 10%"],filled:"",style:{"max-width":"110px"}},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(g,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(u,null,{default:n(()=>[z]),_:1}),l(u,null,{default:n(()=>[E,D,G,t("table",I,[L,t("tbody",null,[(r(!0),d(V,null,w(e.comps_tbl,a=>(r(),d("tr",{key:a.id},[a.row_type==="row"?(r(),d("td",Y,[l(p,{modelValue:a.item.price,"onUpdate:modelValue":c=>a.item.price=c,modelModifiers:{number:!0},type:"number",step:5e3,filled:"",style:{"max-width":"110px"}},null,8,["modelValue","onUpdate:modelValue"])])):f("",!0),a.row_type==="row"?(r(),d("td",j,[l(p,{modelValue:a.item.rooms,"onUpdate:modelValue":c=>a.item.rooms=c,modelModifiers:{number:!0},type:"number",step:1,min:1,max:50,filled:"",style:{"max-width":"70px"}},null,8,["modelValue","onUpdate:modelValue"])])):f("",!0),a.row_type==="row"?(r(),d("td",K,[t("div",null,[l(U,{modelValue:a.item.use,"onUpdate:modelValue":[c=>a.item.use=c,c=>e.updateitemuse(a)],label:""},null,8,["modelValue","onUpdate:modelValue"])])])):f("",!0),a.row_type==="row"?(r(),d("td",J,[e.comps.length>1?(r(),d("div",W,[l(b,{round:"",color:"primary",icon:"delete",onClick:c=>e.delcomp(a.item)},null,8,["onClick"])])):f("",!0)])):f("",!0),a.row_type==="subrow"?(r(),d("td",X,[t("div",null,[t("div",null,"Annual Rent: "+i(e.format_currency(e.getannualrent(a.item))),1),t("div",null,"Yield: "+i(e.format_percent(e.getannualyield(a.item))),1)])])):f("",!0)]))),128))])]),l(b,{round:"",color:"primary",icon:"add",onClick:e.addcomp},null,8,["onClick"])]),_:1})]),_:1}),l(g,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(u,null,{default:n(()=>[Z]),_:1}),l(u,null,{default:n(()=>[ee,h(" Rooms: "),l(p,{modelValue:e.curhmo.rooms,"onUpdate:modelValue":o[2]||(o[2]=a=>e.curhmo.rooms=a),modelModifiers:{number:!0},type:"number",step:1,min:1,max:50,filled:"",style:{"max-width":"70px"}},null,8,["modelValue"]),t("div",null," Our Annual Rent: "+i(e.format_currency(e.hmo_annual_rent)),1),h(" Cost percentage: "),l(b,{round:"",dense:"",flat:"",icon:"info",onClick:e.helpareacostpercentage},null,8,["onClick"]),l(p,{modelValue:e.curhmo.cost_percentage,"onUpdate:modelValue":o[3]||(o[3]=a=>e.curhmo.cost_percentage=a),modelModifiers:{number:!0},type:"number",step:1,min:10,max:50,rules:[a=>a<=50||"Should be less than 50%",a=>a>=10||"Should be more than 10%"],filled:"",style:{"max-width":"110px"}},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(g,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(u,null,{default:n(()=>[te]),_:1}),l(u,null,{default:n(()=>[ae,t("div",oe,[t("div",null,"Min: "+i(e.format_currency(e.min_val))+" ("+i(e.format_percent(e.min_yield))+")",1),t("div",null,"Avg: "+i(e.format_currency(e.avg_val))+" ("+i(e.format_percent(e.avg_yield))+")",1),t("div",null,"Max: "+i(e.format_currency(e.max_val))+" ("+i(e.format_percent(e.max_yield))+")",1)]),l(v,{features:e.features,"onUpdate:features":o[4]||(o[4]=a=>e.features=a)},null,8,["features"])]),_:1})]),_:1}),l(g,{inline:"",class:"q-ma-sm HmoCommercialValuationCalc-card-style"},{default:n(()=>[l(u,null,{default:n(()=>[le]),_:1}),l(u,null,{default:n(()=>[ne,t("div",se,[(r(!0),d(V,null,w(e.range_valuation_values,a=>(r(),d("div",{key:a},[t("div",null,i(e.format_percent(a))+": - "+i(e.format_currency(e.this_prop_val(a))),1)]))),128))])]),_:1})]),_:1})])])]),_:1})}var he=T(R,[["render",re]]);export{he as default};
