import{Q as de,a as fe}from"./QToolbar.c1c2c05c.js";import{c as he,Q as me,a as ge,b as ve,d as _e,_ as I}from"./main_logo.7dd882a0.js";import{c as pe,u as ye,a as be,d as ke,r as M,e as k,f as Te,g as we,h as Se,i as Pe,j as Ce,w as D,o as H,k as N,l as Q,m as Ee,n as B,T as Ae,p as xe,q as Oe,t as Le,v as je,_ as Me,x as De,P as S,N as He,y as q,z as P,A as Ne,B as r,C as c,D as t,E as _,F as $,G as Qe,H as Be,I as C}from"./index.e8cf8d05.js";import{u as qe,v as F,a as $e,p as R,b as Fe,c as Re,r as V,s as Ve,d as W,e as We}from"./position-engine.636b4245.js";import{a as Ie}from"./axios.6e1fcf85.js";var ze=pe({name:"QTooltip",inheritAttrs:!1,props:{...qe,...ye,...be,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:F},self:{type:String,default:"top middle",validator:F},offset:{type:Array,default:()=>[14,14],validator:$e},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ke],setup(e,{slots:n,emit:m,attrs:p}){let d,f;const h=xe(),{proxy:{$q:a}}=h,s=M(null),y=M(!1),z=k(()=>R(e.anchor,a.lang.rtl)),G=k(()=>R(e.self,a.lang.rtl)),J=k(()=>e.persistent!==!0),{registerTick:U,removeTick:Y}=Te(),{registerTimeout:b}=we(),{transitionProps:K,transitionStyle:X}=Se(e),{localScrollTarget:E,changeScrollEvent:Z,unconfigureScrollTarget:ee}=Fe(e,L),{anchorEl:i,canShow:te,anchorEvents:g}=Re({showing:y,configureAnchorEl:ce}),{show:oe,hide:T}=Pe({showing:y,canShow:te,handleShow:ae,handleHide:se,hideOnRouteChange:J,processOnMount:!0});Object.assign(g,{delayShow:ie,delayHide:re});const{showPortal:A,hidePortal:x,renderPortal:ne}=Ce(h,s,ue,"tooltip");if(a.platform.is.mobile===!0){const o={anchorEl:i,innerRef:s,onClickOutside(l){return T(l),l.target.classList.contains("q-dialog__backdrop")&&Le(l),!0}},w=k(()=>e.modelValue===null&&e.persistent!==!0&&y.value===!0);D(w,l=>{(l===!0?We:V)(o)}),H(()=>{V(o)})}function ae(o){A(),U(()=>{f=new MutationObserver(()=>v()),f.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),v(),L()}),d===void 0&&(d=D(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,v)),b(()=>{A(!0),m("show",o)},e.transitionDuration)}function se(o){Y(),x(),O(),b(()=>{x(!0),m("hide",o)},e.transitionDuration)}function O(){f!==void 0&&(f.disconnect(),f=void 0),d!==void 0&&(d(),d=void 0),ee(),N(g,"tooltipTemp")}function v(){Ve({targetEl:s.value,offset:e.offset,anchorEl:i.value,anchorOrigin:z.value,selfOrigin:G.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ie(o){if(a.platform.is.mobile===!0){W(),document.body.classList.add("non-selectable");const w=i.value,l=["touchmove","touchcancel","touchend","click"].map(j=>[w,j,"delayHide","passiveCapture"]);Q(g,"tooltipTemp",l)}b(()=>{oe(o)},e.delay)}function re(o){a.platform.is.mobile===!0&&(N(g,"tooltipTemp"),W(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),b(()=>{T(o)},e.hideDelay)}function ce(){if(e.noParentEvent===!0||i.value===null)return;const o=a.platform.is.mobile===!0?[[i.value,"touchstart","delayShow","passive"]]:[[i.value,"mouseenter","delayShow","passive"],[i.value,"mouseleave","delayHide","passive"]];Q(g,"anchor",o)}function L(){if(i.value!==null||e.scrollTarget!==void 0){E.value=Ee(i.value,e.scrollTarget);const o=e.noParentEvent===!0?v:T;Z(E.value,o)}}function le(){return y.value===!0?B("div",{...p,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",p.class],style:[p.style,X.value],role:"tooltip"},Oe(n.default)):null}function ue(){return B(Ae,K.value,le)}return H(O),Object.assign(h.proxy,{updatePosition:v}),ne}});const Ge="https://api.metcarob.com/property_backend/v0",u=Object.freeze({notconnected:0,connecting:2,connected:3,failed:4});function Je(e,n){return Object.keys(e).filter(function(m){return e[m]===n})[0]}const Ue=je("backendConnectionStore",{state:()=>({connection_state:{state:u.notconnected,error:"",server_info_response:{}}}),getters:{connectionStateString(e){let n=Je(u,e.connection_state.state);return e.connection_state.state===u.failed&&(n+=" ("+e.connection_state.error+")"),n}},actions:{connect(){if(this.connection_state.state===u.connecting){console.log("backend_connection Call to connect while already connecting - ignoring call");return}if(this.connection_state.state===u.notconnected){var e={method:"GET",url:Ge+"/public/api/info/serverinfo"};Ie(e).then(n=>{this._connection_complete_success(n)},n=>{this._connection_complete_fail(n)})}},_connection_complete_success(e){this.connection_state.state=u.connected,this.connection_state.error="",this.connection_state.server_info_response=e},_connection_complete_fail(e){this.connection_state.state=u.failed,this.connection_state.error=JSON.stringify(e),this.connection_state.server_info_response={}}}});var Ye="/assets/PIMS Logo White.099cb929.png";const Ke=De({name:"MainLayout",setup(){return{backend_connection_store:Ue()}},data(){return{menu_items:he.get_menu_items()}},computed:{copyright(){return"\xA9 "+new Date().getFullYear()+" All Right Reserved"},connectionState(){return this.backend_connection_store.connectionStateString}},methods:{notifyAccept(){S.set("cookiesAccepted","true",{secure:!window.location.href.includes("localhost"),expires:180})},navigateToDataAndPrivacy(){this.$router.push("/privacy")},hasAcceptedCookie(){if(!S.has("cookiesAccepted"))return!1;var e=S.get("cookiesAccepted");return typeof e=="undefined"?!1:e==="true"},cookiePopup(){var e=this;this.hasAcceptedCookie()||He.create({color:"bg-grey-2",message:'By clicking \u201CAccept\u201D, you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts. Some of these may be "third party cookies".',timeout:0,actions:[{label:"View Privacy Policy",color:"primary",handler:e.navigateToDataAndPrivacy},{label:"Accept",color:"white",handler:e.notifyAccept}]})}},mounted(){this.backend_connection_store.connect(),this.cookiePopup()}}),Xe={class:"row no-wrap justify-start items-center content-start"},Ze=t("img",{class:"main-logo",alt:"Evernet properties logo",src:I},null,-1),et={class:"column no-wrap justify-start items-center content-start"},tt=t("div",null," We find properties ",-1),ot={class:"sub-toolbar bg-grey-5 fit row no-wrap justify-center items-center content-start"},nt=t("div",{class:"bottom-sub-toolbar bg-grey-5 fit column wrap justify-center items-center content-center text-white"},[t("img",{alt:"PIMS Logo",src:Ye,class:"pims-logo"}),_("Membership number 34541 (Robert Metcalf) "),t("img",{class:"bottom-logo",alt:"Evernet properties logo",src:I}),t("div",null,"Evernet Properties Limited | Company Number: 15345182 | Company registered office : 86-90, Paul Street, London EC2A 4NE")],-1),at={class:"footer row"},st={class:"left_footer col-grow"},it={class:"right_footer"};function rt(e,n,m,p,d,f){const h=q("router-link"),a=q("router-view");return P(),Ne(me,{view:"lHh Lpr lFf"},{default:r(()=>[c(ge,{elevated:"",class:"bg-grey-7 text-white"},{default:r(()=>[c(de,{class:"main-toolbar column no-wrap justify-start items-center content-start"},{default:r(()=>[t("div",Xe,[Ze,t("div",et,[c(fe,null,{default:r(()=>[_(" Evernet Properties Limited ")]),_:1}),tt])])]),_:1}),t("div",ot,[(P(!0),$(Be,null,Qe(e.menu_items,s=>(P(),$("div",{key:s.name},[c(h,{to:s.target,class:"toolbar"},{default:r(()=>[_(C(s.name),1)]),_:2},1032,["to"])]))),128))])]),_:1}),c(ve,null,{default:r(()=>[c(a),nt]),_:1}),c(_e,{elevated:"",class:"bg-grey-7 text-white"},{default:r(()=>[t("div",at,[t("div",st,[c(h,{to:"/privacy",class:"toolbar"},{default:r(()=>[_("Privacy Policy")]),_:1})]),t("div",it,[_(C(e.copyright)+" ",1),c(ze,null,{default:r(()=>[t("table",null,[t("tr",null,[t("td",null,"Connection: "+C(e.connectionState),1)])])]),_:1})])])]),_:1})]),_:1})}var ht=Me(Ke,[["render",rt]]);export{ht as default};
